{"last_node_id":1360,"last_link_id":2303,"nodes":[{"id":13,"type":"ControlNetApplyAdvanced","pos":[5559.758881907927,1841.9908409621044],"size":{"0":230,"1":170},"flags":{"pinned":true},"order":270,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":21},{"name":"negative","type":"CONDITIONING","link":22},{"name":"control_net","type":"CONTROL_NET","link":23,"slot_index":2},{"name":"image","type":"IMAGE","link":2301}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[27],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[28],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":14,"type":"ControlNetLoaderAdvanced","pos":[5539.758881907927,2061.990840962107],"size":{"0":344.3999938964844,"1":60},"flags":{"pinned":true},"order":221,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":25,"slot_index":0}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[23],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11f1e_sd15_tile.pth"],"color":"#232","bgcolor":"#353"},{"id":15,"type":"TimestepKeyframe","pos":[5539.758881907927,2161.990840962107],"size":{"0":340,"1":214},"flags":{"pinned":true},"order":212,"mode":0,"inputs":[{"name":"control_net_weights","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"t2i_adapter_weights","type":"T2I_ADAPTER_WEIGHTS","link":null},{"name":"latent_keyframe","type":"LATENT_KEYFRAME","link":2292,"slot_index":2},{"name":"prev_timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null,"slot_index":3}],"outputs":[{"name":"TIMESTEP_KEYFRAME","type":"TIMESTEP_KEYFRAME","links":[25],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TimestepKeyframe"},"widgets_values":[0,1,0,true,true],"color":"#232","bgcolor":"#353"},{"id":16,"type":"ControlNetApplyAdvanced","pos":[6459.758881907927,1851.9908409621044],"size":{"0":230,"1":170},"flags":{"pinned":true},"order":276,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":27,"slot_index":0},{"name":"negative","type":"CONDITIONING","link":28},{"name":"control_net","type":"CONTROL_NET","link":29,"slot_index":2},{"name":"image","type":"IMAGE","link":30}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[153],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[154],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":17,"type":"ControlNetLoaderAdvanced","pos":[6459.758881907927,2061.990840962107],"size":{"0":344.3999938964844,"1":60},"flags":{"pinned":true},"order":233,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":31,"slot_index":0}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[29],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11f1e_sd15_tile.pth"],"color":"#232","bgcolor":"#353"},{"id":34,"type":"PreviewImage","pos":[5559.758881907927,1361.9908409621044],"size":{"0":410,"1":420},"flags":{"pinned":true},"order":269,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":61}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#232","bgcolor":"#353"},{"id":35,"type":"PreviewImage","pos":[6409.758881907927,1371.9908409621044],"size":{"0":410,"1":420},"flags":{"pinned":true},"order":271,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":62}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#232","bgcolor":"#353"},{"id":83,"type":"TimestepKeyframe","pos":[8099.758881907959,2181.990840962107],"size":{"0":340,"1":214},"flags":{"pinned":false},"order":245,"mode":0,"inputs":[{"name":"control_net_weights","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"t2i_adapter_weights","type":"T2I_ADAPTER_WEIGHTS","link":null},{"name":"latent_keyframe","type":"LATENT_KEYFRAME","link":2297,"slot_index":2},{"name":"prev_timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"TIMESTEP_KEYFRAME","type":"TIMESTEP_KEYFRAME","links":[163],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TimestepKeyframe"},"widgets_values":[0,1,0,true,true],"color":"#232","bgcolor":"#353"},{"id":85,"type":"PreviewImage","pos":[8099.758881907959,1371.9908409621044],"size":{"0":410,"1":420},"flags":{"pinned":true},"order":278,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":166}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#232","bgcolor":"#353"},{"id":87,"type":"Reroute","pos":[6109.758881907927,861.9908409621063],"size":[75,26],"flags":{},"order":263,"mode":0,"inputs":[{"name":"","type":"*","link":168}],"outputs":[{"name":"","type":"IMAGE","links":[30,62]}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":90,"type":"CM_IntBinaryOperation","pos":[-1070,1570],"size":{"0":320,"1":110},"flags":{"collapsed":false},"order":113,"mode":0,"inputs":[{"name":"a","type":"INT","link":494,"widget":{"name":"a"},"slot_index":0}],"outputs":[{"name":"INT","type":"INT","links":[204],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Sub",0,1],"color":"#432","bgcolor":"#653"},{"id":92,"type":"Reroute","pos":[6959.758881907927,861.9908409621063],"size":[75,26],"flags":{},"order":273,"mode":0,"inputs":[{"name":"","type":"*","link":179}],"outputs":[{"name":"","type":"IMAGE","links":[156,165]}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":93,"type":"Reroute","pos":[7839.75888190792,861.9908409621063],"size":[75,26],"flags":{},"order":274,"mode":0,"inputs":[{"name":"","type":"*","link":180}],"outputs":[{"name":"","type":"IMAGE","links":[162,166]}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":96,"type":"StringConcatenate","pos":[-660,1950],"size":{"0":210,"1":294},"flags":{},"order":127,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":196,"widget":{"name":"text_a"},"slot_index":0},{"name":"text_b","type":"STRING","link":197,"widget":{"name":"text_b"}},{"name":"text_c","type":"STRING","link":198,"widget":{"name":"text_c"},"slot_index":2},{"name":"text_d","type":"STRING","link":199,"widget":{"name":"text_d"}},{"name":"text_e","type":"STRING","link":200,"widget":{"name":"text_e"}},{"name":"text_f","type":"STRING","link":201,"widget":{"name":"text_f"},"slot_index":5},{"name":"text_g","type":"STRING","link":202,"widget":{"name":"text_g"},"slot_index":6},{"name":"frame_a","type":"INT","link":203,"widget":{"name":"frame_a"}},{"name":"frame_b","type":"INT","link":204,"widget":{"name":"frame_b"}},{"name":"frame_c","type":"INT","link":205,"widget":{"name":"frame_c"}},{"name":"frame_d","type":"INT","link":206,"widget":{"name":"frame_d"}},{"name":"frame_e","type":"INT","link":207,"widget":{"name":"frame_e"}},{"name":"frame_f","type":"INT","link":208,"widget":{"name":"frame_f"}},{"name":"frame_g","type":"INT","link":209,"widget":{"name":"frame_g"}}],"outputs":[{"name":"STRING","type":"STRING","links":[244],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"StringConcatenate"},"widgets_values":["(blush:1.0)\n",0,"(thumbs up:1.2), (eyes closed:1.1) --neg (gloves:1.35), text, speech bubble, words",31,"(thumbs up:1.2), (eyes closed:1.1) --neg (gloves:1.35), text, speech bubble, words",32,"(eyes closed:1), arms crossed",47,"(eyes closed:1), arms crossed",48,"looking at viewer, :D\n",63,"looking at viewer, :D\n",64],"color":"#322","bgcolor":"#533"},{"id":100,"type":"ScaledSoftControlNetWeights","pos":[6929.758881907927,2171.990840962107],"size":{"0":327.6000061035156,"1":102},"flags":{"pinned":false},"order":0,"mode":0,"outputs":[{"name":"CONTROL_NET_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":[],"shape":3,"slot_index":0},{"name":"TIMESTEP_KEYFRAME","type":"TIMESTEP_KEYFRAME","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.913,false],"color":"#232","bgcolor":"#353"},{"id":101,"type":"ScaledSoftControlNetWeights","pos":[6089.758881907927,2171.990840962107],"size":{"0":330,"1":102},"flags":{"pinned":false},"order":1,"mode":0,"outputs":[{"name":"CONTROL_NET_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":[],"shape":3,"slot_index":0},{"name":"TIMESTEP_KEYFRAME","type":"TIMESTEP_KEYFRAME","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.913,false],"color":"#232","bgcolor":"#353"},{"id":102,"type":"ScaledSoftControlNetWeights","pos":[5169.758881907927,2171.990840962107],"size":{"0":330,"1":102},"flags":{"pinned":false},"order":2,"mode":0,"outputs":[{"name":"CONTROL_NET_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":[],"shape":3,"slot_index":0},{"name":"TIMESTEP_KEYFRAME","type":"TIMESTEP_KEYFRAME","links":null,"shape":3}],"properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.913,false],"color":"#232","bgcolor":"#353"},{"id":103,"type":"ScaledSoftControlNetWeights","pos":[7729.758881907925,2181.990840962107],"size":{"0":327.6000061035156,"1":102},"flags":{"pinned":true},"order":3,"mode":0,"outputs":[{"name":"CONTROL_NET_WEIGHTS","type":"CONTROL_NET_WEIGHTS","links":[],"shape":3,"slot_index":0},{"name":"TIMESTEP_KEYFRAME","type":"TIMESTEP_KEYFRAME","links":null,"shape":3}],"properties":{"Node name for S&R":"ScaledSoftControlNetWeights"},"widgets_values":[0.913,false],"color":"#232","bgcolor":"#353"},{"id":112,"type":"PrimitiveNode","pos":[-2100,1890],"size":{"0":530,"1":110},"flags":{},"order":4,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[185,201,202],"widget":{"name":"text_d"},"slot_index":0}],"title":"text_d","properties":{"Run widget replace on values":false},"widgets_values":["looking at viewer, :D\n"],"color":"#223","bgcolor":"#335"},{"id":113,"type":"PrimitiveNode","pos":[-2100,2040],"size":{"0":530,"1":120},"flags":{},"order":5,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[186,218,219],"widget":{"name":"text_e"},"slot_index":0}],"title":"text_e","properties":{"Run widget replace on values":false},"widgets_values":["(blushing:1.2), :), eyes closed"],"color":"#223","bgcolor":"#335"},{"id":114,"type":"PrimitiveNode","pos":[-2100,2210],"size":{"0":530,"1":120},"flags":{},"order":6,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[187,220,221],"widget":{"name":"text_f"},"slot_index":0}],"title":"text_f","properties":{"Run widget replace on values":false},"widgets_values":["(pointing at viewer:1), :D"],"color":"#223","bgcolor":"#335"},{"id":115,"type":"StringConcatenate","pos":[-660,2340],"size":{"0":210,"1":294},"flags":{},"order":128,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":218,"widget":{"name":"text_a"},"slot_index":0},{"name":"text_b","type":"STRING","link":219,"widget":{"name":"text_b"}},{"name":"text_c","type":"STRING","link":220,"widget":{"name":"text_c"},"slot_index":2},{"name":"text_d","type":"STRING","link":221,"widget":{"name":"text_d"}},{"name":"text_e","type":"STRING","link":222,"widget":{"name":"text_e"}},{"name":"text_f","type":"STRING","link":null,"widget":{"name":"text_f"},"slot_index":5},{"name":"text_g","type":"STRING","link":null,"widget":{"name":"text_g"},"slot_index":6},{"name":"frame_a","type":"INT","link":223,"widget":{"name":"frame_a"}},{"name":"frame_b","type":"INT","link":224,"widget":{"name":"frame_b"}},{"name":"frame_c","type":"INT","link":225,"widget":{"name":"frame_c"}},{"name":"frame_d","type":"INT","link":226,"widget":{"name":"frame_d"}},{"name":"frame_e","type":"INT","link":227,"widget":{"name":"frame_e"}},{"name":"frame_f","type":"INT","link":null,"widget":{"name":"frame_f"}},{"name":"frame_g","type":"INT","link":null,"widget":{"name":"frame_g"}}],"outputs":[{"name":"STRING","type":"STRING","links":[245],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"StringConcatenate"},"widgets_values":["(blushing:1.2), :), eyes closed",81,"(blushing:1.2), :), eyes closed",92,"(pointing at viewer:1), :D",97,"(pointing at viewer:1), :D",0,"blush:1.0)",0,"0",0,"0",0],"color":"#322","bgcolor":"#533"},{"id":116,"type":"PrimitiveNode","pos":[-2320,1400],"size":{"0":210,"1":82},"flags":{},"order":7,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[189,203],"widget":{"name":"frame_a"},"slot_index":0}],"title":"frame_a","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#223","bgcolor":"#335"},{"id":117,"type":"PrimitiveNode","pos":[-2320,1570],"size":{"0":210,"1":82},"flags":{},"order":8,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[170,190],"widget":{"name":"a"},"slot_index":0}],"title":"frame_b","properties":{"Run widget replace on values":false},"widgets_values":[3,"fixed"],"color":"#223","bgcolor":"#335"},{"id":118,"type":"PrimitiveNode","pos":[-2320,1730],"size":{"0":210,"1":82},"flags":{},"order":9,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[191,228],"widget":{"name":"frame_c"},"slot_index":0}],"title":"frame_c","properties":{"Run widget replace on values":false},"widgets_values":[6,"fixed"],"color":"#223","bgcolor":"#335"},{"id":119,"type":"PrimitiveNode","pos":[-2320,1900],"size":{"0":210,"1":82},"flags":{},"order":10,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[192,231],"widget":{"name":"frame_d"},"slot_index":0}],"title":"frame_d","properties":{"Run widget replace on values":false},"widgets_values":[9,"fixed"],"color":"#223","bgcolor":"#335"},{"id":120,"type":"PrimitiveNode","pos":[-2320,2040],"size":{"0":210,"1":82},"flags":{},"order":11,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[193,234],"widget":{"name":"frame_e"},"slot_index":0}],"title":"frame_e","properties":{"Run widget replace on values":false},"widgets_values":[12,"fixed"],"color":"#223","bgcolor":"#335"},{"id":121,"type":"PrimitiveNode","pos":[-2320,2210],"size":{"0":210,"1":82},"flags":{},"order":12,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[194,237],"widget":{"name":"frame_f"},"slot_index":0}],"title":"frame_f","properties":{"Run widget replace on values":false},"widgets_values":[15,"fixed"],"color":"#223","bgcolor":"#335"},{"id":122,"type":"PrimitiveNode","pos":[-2320,2380],"size":{"0":210,"1":82},"flags":{},"order":13,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[195,240],"widget":{"name":"frame_g"},"slot_index":0}],"title":"frame_g","properties":{"Run widget replace on values":false},"widgets_values":[18,"fixed"],"color":"#223","bgcolor":"#335"},{"id":124,"type":"CM_IntBinaryOperation","pos":[-1430,1740],"size":{"0":320,"1":110},"flags":{"collapsed":false},"order":90,"mode":0,"inputs":[{"name":"a","type":"INT","link":228,"widget":{"name":"a"},"slot_index":0},{"name":"b","type":"INT","link":229,"widget":{"name":"b"},"slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":[207,230],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Mul",6,48],"color":"#432","bgcolor":"#653"},{"id":126,"type":"CM_IntBinaryOperation","pos":[-1430,1900],"size":{"0":320,"1":110},"flags":{"collapsed":false},"order":91,"mode":0,"inputs":[{"name":"a","type":"INT","link":231,"widget":{"name":"a"},"slot_index":0},{"name":"b","type":"INT","link":232,"widget":{"name":"b"}}],"outputs":[{"name":"INT","type":"INT","links":[209,233],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Mul",9,48],"color":"#432","bgcolor":"#653"},{"id":127,"type":"CM_IntBinaryOperation","pos":[-1070,1900],"size":{"0":320,"1":110},"flags":{},"order":115,"mode":0,"inputs":[{"name":"a","type":"INT","link":233,"widget":{"name":"a"},"slot_index":0}],"outputs":[{"name":"INT","type":"INT","links":[208],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Sub",0,1],"color":"#432","bgcolor":"#653"},{"id":128,"type":"CM_IntBinaryOperation","pos":[-1430,2070],"size":{"0":320,"1":110},"flags":{},"order":92,"mode":0,"inputs":[{"name":"a","type":"INT","link":234,"widget":{"name":"a"},"slot_index":0},{"name":"b","type":"INT","link":235,"widget":{"name":"b"},"slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":[224,236],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Mul",12,48],"color":"#432","bgcolor":"#653"},{"id":129,"type":"CM_IntBinaryOperation","pos":[-1070,2070],"size":{"0":320,"1":110},"flags":{},"order":116,"mode":0,"inputs":[{"name":"a","type":"INT","link":236,"widget":{"name":"a"},"slot_index":0}],"outputs":[{"name":"INT","type":"INT","links":[223],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Sub",0,1],"color":"#432","bgcolor":"#653"},{"id":130,"type":"CM_IntBinaryOperation","pos":[-1430,2230],"size":{"0":320,"1":110},"flags":{},"order":93,"mode":0,"inputs":[{"name":"a","type":"INT","link":237,"widget":{"name":"a"},"slot_index":0},{"name":"b","type":"INT","link":238,"widget":{"name":"b"}}],"outputs":[{"name":"INT","type":"INT","links":[226,239],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Mul",15,48],"color":"#432","bgcolor":"#653"},{"id":131,"type":"CM_IntBinaryOperation","pos":[-1070,2230],"size":{"0":320,"1":110},"flags":{},"order":117,"mode":0,"inputs":[{"name":"a","type":"INT","link":239,"widget":{"name":"a"},"slot_index":0}],"outputs":[{"name":"INT","type":"INT","links":[225],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Sub",0,1],"color":"#432","bgcolor":"#653"},{"id":132,"type":"CM_IntBinaryOperation","pos":[-1430,2390],"size":{"0":320,"1":110},"flags":{},"order":94,"mode":0,"inputs":[{"name":"a","type":"INT","link":240,"widget":{"name":"a"},"slot_index":0},{"name":"b","type":"INT","link":241,"widget":{"name":"b"},"slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":[242],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Mul",18,48],"color":"#432","bgcolor":"#653"},{"id":133,"type":"CM_IntBinaryOperation","pos":[-1070,2390],"size":{"0":320,"1":110},"flags":{},"order":118,"mode":0,"inputs":[{"name":"a","type":"INT","link":242,"widget":{"name":"a"},"slot_index":0}],"outputs":[{"name":"INT","type":"INT","links":[227],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Sub",0,1],"color":"#432","bgcolor":"#653"},{"id":146,"type":"PrimitiveNode","pos":[170,2000],"size":{"0":210,"1":82},"flags":{},"order":14,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[84],"widget":{"name":"end_at_step"}}],"title":"B end_at_step","properties":{"Run widget replace on values":false},"widgets_values":[10000,"fixed"],"color":"#322","bgcolor":"#533"},{"id":147,"type":"CM_IntBinaryOperation","pos":[60,3181.013896442039],"size":{"0":210,"1":80},"flags":{},"order":107,"mode":0,"inputs":[{"name":"a","type":"INT","link":246,"widget":{"name":"a"},"slot_index":0,"label":"current frame"},{"name":"b","type":"INT","link":247,"widget":{"name":"b"},"slot_index":1,"label":"batch size"}],"outputs":[{"name":"INT","type":"INT","links":[285],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Mul",1,48],"color":"#322","bgcolor":"#533"},{"id":150,"type":"CM_IntToNumber","pos":[60,3071.013896442039],"size":{"0":210,"1":34},"flags":{},"order":108,"mode":0,"inputs":[{"name":"a","type":"INT","link":253,"widget":{"name":"a"},"slot_index":0}],"outputs":[{"name":"NUMBER","type":"NUMBER","links":[249,252],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntToNumber"},"widgets_values":[1],"color":"#322","bgcolor":"#533"},{"id":161,"type":"PreviewImage","pos":[-1430,1150],"size":{"0":190,"1":310},"flags":{},"order":262,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":590}],"title":"Keyframe 1","properties":{"Node name for S&R":"PreviewImage"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":162,"type":"PreviewImage","pos":[-1240,1150],"size":{"0":190,"1":310},"flags":{"pinned":true},"order":264,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":591}],"title":"Keyframe 2","properties":{"Node name for S&R":"PreviewImage"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":164,"type":"PreviewImage","pos":[-860,1150],"size":{"0":190,"1":310},"flags":{},"order":279,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":593}],"title":"Keyframe 4","properties":{"Node name for S&R":"PreviewImage"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":166,"type":"LoadImage","pos":[6409.758881907927,921.9908409621063],"size":{"0":410,"1":420},"flags":{"pinned":true},"order":15,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["example.png","image"],"color":"#232","bgcolor":"#353"},{"id":167,"type":"LoadImage","pos":[7289.75888190793,921.9908409621063],"size":{"0":410,"1":420},"flags":{"pinned":true},"order":16,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["example.png","image"],"color":"#232","bgcolor":"#353"},{"id":168,"type":"LoadImage","pos":[8099.758881907959,921.9908409621063],"size":{"0":410,"1":420},"flags":{"pinned":true},"order":17,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["example.png","image"],"color":"#232","bgcolor":"#353"},{"id":187,"type":"CM_IntBinaryOperation","pos":[310,3181.013896442039],"size":{"0":210,"1":82},"flags":{},"order":125,"mode":0,"inputs":[{"name":"a","type":"INT","link":285,"widget":{"name":"a"},"slot_index":0}],"outputs":[{"name":"INT","type":"INT","links":[250],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Sub",0,1],"color":"#322","bgcolor":"#533"},{"id":195,"type":"CM_IntToNumber","pos":[37.73799491719121,2495.3564086441784],"size":{"0":210,"1":60},"flags":{},"order":18,"mode":0,"outputs":[{"name":"NUMBER","type":"NUMBER","links":[290,295],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntToNumber"},"widgets_values":[0],"color":"#223","bgcolor":"#335"},{"id":235,"type":"ImageScale","pos":[3664.55031945696,1543.8844089110269],"size":{"0":320,"1":130},"flags":{"collapsed":false},"order":225,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":315},{"name":"width","type":"INT","link":316,"widget":{"name":"width"},"slot_index":1},{"name":"height","type":"INT","link":317,"widget":{"name":"height"},"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[342],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",768,1152,"disabled"],"color":"#233","bgcolor":"#355"},{"id":236,"type":"ImageUpscaleWithModel","pos":[3664.55031945696,1453.8844089110269],"size":{"0":241.79998779296875,"1":46},"flags":{"collapsed":false},"order":215,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":318,"slot_index":0},{"name":"image","type":"IMAGE","link":681,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[315],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"},"color":"#233","bgcolor":"#355"},{"id":238,"type":"ImageScale","pos":[3654.55031945696,2063.884408911027],"size":{"0":320,"1":130},"flags":{"collapsed":false},"order":239,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":320},{"name":"width","type":"INT","link":321,"widget":{"name":"width"},"slot_index":1},{"name":"height","type":"INT","link":322,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[354],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",768,1152,"disabled"],"color":"#233","bgcolor":"#355"},{"id":239,"type":"ImageUpscaleWithModel","pos":[3654.55031945696,1973.8844089110269],"size":{"0":241.79998779296875,"1":46},"flags":{"collapsed":false},"order":228,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":323,"slot_index":0},{"name":"image","type":"IMAGE","link":693,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[320],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"},"color":"#233","bgcolor":"#355"},{"id":95,"type":"StringConcatenate","pos":[-660,1560],"size":{"0":210,"1":294},"flags":{},"order":99,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":182,"widget":{"name":"text_a"},"slot_index":0},{"name":"text_b","type":"STRING","link":183,"widget":{"name":"text_b"},"slot_index":1},{"name":"text_c","type":"STRING","link":184,"widget":{"name":"text_c"},"slot_index":2},{"name":"text_d","type":"STRING","link":185,"widget":{"name":"text_d"},"slot_index":3},{"name":"text_e","type":"STRING","link":186,"widget":{"name":"text_e"},"slot_index":4},{"name":"text_f","type":"STRING","link":187,"widget":{"name":"text_f"},"slot_index":5},{"name":"text_g","type":"STRING","link":188,"widget":{"name":"text_g"},"slot_index":6},{"name":"frame_a","type":"INT","link":189,"widget":{"name":"frame_a"},"slot_index":7},{"name":"frame_b","type":"INT","link":190,"widget":{"name":"frame_b"},"slot_index":8},{"name":"frame_c","type":"INT","link":191,"widget":{"name":"frame_c"},"slot_index":9},{"name":"frame_d","type":"INT","link":192,"widget":{"name":"frame_d"},"slot_index":10},{"name":"frame_e","type":"INT","link":193,"widget":{"name":"frame_e"},"slot_index":11},{"name":"frame_f","type":"INT","link":194,"widget":{"name":"frame_f"},"slot_index":12},{"name":"frame_g","type":"INT","link":195,"widget":{"name":"frame_g"},"slot_index":13}],"outputs":[{"name":"STRING","type":"STRING","links":[293],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"StringConcatenate"},"widgets_values":["(blush:1.0)\n",0,"(thumbs up:1.2), (eyes closed:1.1) --neg (gloves:1.35), text, speech bubble, words",3,"(eyes closed:1), arms crossed",6,"looking at viewer, :D\n",9,"(blushing:1.2), :), eyes closed",12,"(pointing at viewer:1), :D",15,"blush:1.0)",18],"color":"#2a363b","bgcolor":"#3f5159"},{"id":163,"type":"PreviewImage","pos":[-1050,1150],"size":{"0":190,"1":310},"flags":{},"order":272,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":592,"slot_index":0}],"title":"Keyframe 3","properties":{"Node name for S&R":"PreviewImage"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":193,"type":"Compare","pos":[247.73799491719123,2335.3564086441784],"size":{"0":210,"1":80},"flags":{},"order":96,"mode":0,"inputs":[{"name":"a","type":"*","link":294,"slot_index":0},{"name":"b","type":"*","link":295,"slot_index":1}],"outputs":[{"name":"B","type":"BOOLEAN","links":[291],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Compare"},"widgets_values":["a == b"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":29,"type":"PrimitiveNode","pos":[-30,1290],"size":{"0":210,"1":106},"flags":{},"order":19,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[17,51,126,147],"widget":{"name":"sampler_name"},"slot_index":0}],"title":"sampler_name","properties":{"Run widget replace on values":false},"widgets_values":["dpmpp_2m","fixed",""],"color":"#2a363b","bgcolor":"#3f5159"},{"id":30,"type":"PrimitiveNode","pos":[180,1290],"size":{"0":210,"1":106},"flags":{},"order":20,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[18,52,127,148],"widget":{"name":"scheduler"},"slot_index":0}],"title":"scheduler","properties":{"Run widget replace on values":false},"widgets_values":["karras","fixed",""],"color":"#2a363b","bgcolor":"#3f5159"},{"id":84,"type":"PreviewImage","pos":[7289.75888190793,1381.9908409621044],"size":{"0":410,"1":430},"flags":{"pinned":false},"order":277,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":165}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#232","bgcolor":"#353"},{"id":155,"type":"LoraLoader","pos":[585.969603480323,262.2431721574176],"size":{"0":380,"1":130},"flags":{},"order":153,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":257},{"name":"clip","type":"CLIP","link":258}],"outputs":[{"name":"MODEL","type":"MODEL","links":[617],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[109],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["1990sAnimeStyleLora_1.safetensors",0.6,0.6],"color":"#223","bgcolor":"#335"},{"id":125,"type":"CM_IntBinaryOperation","pos":[-1070,1730],"size":{"0":320,"1":110},"flags":{"collapsed":false},"order":114,"mode":0,"inputs":[{"name":"a","type":"INT","link":230,"widget":{"name":"a"},"slot_index":0}],"outputs":[{"name":"INT","type":"INT","links":[206],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Sub",0,1],"color":"#432","bgcolor":"#653"},{"id":89,"type":"CM_IntBinaryOperation","pos":[-1430,1570],"size":{"0":320,"1":110},"flags":{"collapsed":false},"order":89,"mode":0,"inputs":[{"name":"a","type":"INT","link":170,"widget":{"name":"a"},"slot_index":0},{"name":"b","type":"INT","link":171,"widget":{"name":"b"},"slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":[205,494],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Mul",3,48],"color":"#432","bgcolor":"#653"},{"id":316,"type":"Reroute","pos":[8878.455474532086,1854.1910985212392],"size":[140.8,26],"flags":{},"order":282,"mode":0,"inputs":[{"name":"","type":"*","link":521}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[523,525],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":233,"type":"ImageUpscaleWithModel","pos":[3654.55031945696,923.8844089110265],"size":{"0":241.79998779296875,"1":46},"flags":{},"order":210,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":313,"slot_index":0},{"name":"image","type":"IMAGE","link":674,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[310],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"},"color":"#233","bgcolor":"#355"},{"id":232,"type":"ImageScale","pos":[3654.55031945696,1013.8844089110265],"size":{"0":320,"1":130},"flags":{},"order":219,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":310},{"name":"width","type":"INT","link":311,"widget":{"name":"width"},"slot_index":1},{"name":"height","type":"INT","link":312,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[527],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",768,1152,"disabled"],"color":"#233","bgcolor":"#355"},{"id":247,"type":"VAEEncode","pos":[3664.55031945696,1713.8844089110269],"size":{"0":310,"1":50},"flags":{},"order":236,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":342,"slot_index":0},{"name":"vae","type":"VAE","link":663,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[347],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"},"color":"#233","bgcolor":"#355"},{"id":240,"type":"UpscaleModelLoader","pos":[3654.55031945696,1863.8844089110269],"size":{"0":320,"1":60},"flags":{"collapsed":false},"order":103,"mode":0,"inputs":[{"name":"model_name","type":"COMBO","link":565,"widget":{"name":"model_name"}}],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[323],"shape":3}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["lollypop.pth"],"color":"#233","bgcolor":"#355"},{"id":250,"type":"VAEEncode","pos":[3654.55031945696,2253.884408911027],"size":{"0":310,"1":50},"flags":{},"order":249,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":354,"slot_index":0},{"name":"vae","type":"VAE","link":665,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[359],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"},"color":"#233","bgcolor":"#355"},{"id":242,"type":"ImageUpscaleWithModel","pos":[3654.55031945696,2493.884408911027],"size":{"0":241.79998779296875,"1":46},"flags":{"collapsed":false},"order":229,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":328,"slot_index":0},{"name":"image","type":"IMAGE","link":329,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[325],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"},"color":"#233","bgcolor":"#355"},{"id":241,"type":"ImageScale","pos":[3654.55031945696,2583.884408911027],"size":{"0":320,"1":130},"flags":{"collapsed":false},"order":240,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":325},{"name":"width","type":"INT","link":326,"widget":{"name":"width"},"slot_index":1},{"name":"height","type":"INT","link":327,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[366],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",768,1152,"disabled"],"color":"#233","bgcolor":"#355"},{"id":253,"type":"VAEEncode","pos":[3654.55031945696,2763.884408911027],"size":{"0":310,"1":50},"flags":{},"order":250,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":366},{"name":"vae","type":"VAE","link":667,"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[371],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"},"color":"#233","bgcolor":"#355"},{"id":246,"type":"VAEDecode","pos":[4244.550319456964,883.8844089110265],"size":{"0":210,"1":46},"flags":{},"order":252,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":340},{"name":"vae","type":"VAE","link":640,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[60],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#233","bgcolor":"#355"},{"id":249,"type":"VAEDecode","pos":[4224.550319456964,1413.8844089110269],"size":{"0":210,"1":46},"flags":{},"order":255,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":352},{"name":"vae","type":"VAE","link":642,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[168],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#233","bgcolor":"#355"},{"id":252,"type":"VAEDecode","pos":[4204.550319456964,1943.8844089110269],"size":{"0":210,"1":46},"flags":{},"order":266,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":364},{"name":"vae","type":"VAE","link":644,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[179],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#233","bgcolor":"#355"},{"id":255,"type":"VAEDecode","pos":[4194.550319456964,2433.884408911027],"size":{"0":210,"1":46},"flags":{},"order":267,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":376},{"name":"vae","type":"VAE","link":646,"slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[180],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#233","bgcolor":"#355"},{"id":73,"type":"KSampler","pos":[2750,1790],"size":{"0":310,"1":270},"flags":{"collapsed":false},"order":201,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":550,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":957},{"name":"negative","type":"CONDITIONING","link":123,"slot_index":2},{"name":"latent_image","type":"LATENT","link":706,"slot_index":3},{"name":"seed","type":"INT","link":596,"widget":{"name":"seed"},"slot_index":4},{"name":"sampler_name","type":"COMBO","link":126,"widget":{"name":"sampler_name"}},{"name":"scheduler","type":"COMBO","link":127,"widget":{"name":"scheduler"},"slot_index":6},{"name":"steps","type":"INT","link":603,"widget":{"name":"steps"},"slot_index":7},{"name":"cfg","type":"FLOAT","link":607,"widget":{"name":"cfg"},"slot_index":8}],"outputs":[{"name":"LATENT","type":"LATENT","links":[119],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1500573,"fixed",30,7.5,"dpmpp_2m","karras",1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":320,"type":"Reroute","pos":[1910,570],"size":[75,26],"flags":{},"order":172,"mode":0,"inputs":[{"name":"","type":"*","link":531,"pos":[37.5,0]}],"outputs":[{"name":"CLIP","type":"CLIP","links":[532]}],"properties":{"showOutputText":true,"horizontal":true}},{"id":322,"type":"Reroute","pos":[1910,1190],"size":[75,26],"flags":{},"order":182,"mode":0,"inputs":[{"name":"","type":"*","link":533,"pos":[37.5,0],"slot_index":0}],"outputs":[{"name":"CLIP","type":"CLIP","links":[536,538],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":321,"type":"Reroute","pos":[1910,740],"size":[75,26],"flags":{},"order":177,"mode":0,"inputs":[{"name":"","type":"*","link":532,"pos":[37.5,0]}],"outputs":[{"name":"CLIP","type":"CLIP","links":[533,537],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":324,"type":"Reroute","pos":[1910,1630],"size":[75,26],"flags":{},"order":189,"mode":0,"inputs":[{"name":"","type":"*","link":538,"pos":[37.5,0]}],"outputs":[{"name":"CLIP","type":"CLIP","links":[539,540],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":325,"type":"Reroute","pos":[1910,2080],"size":[75,26],"flags":{},"order":196,"mode":0,"inputs":[{"name":"","type":"*","link":540,"pos":[37.5,0]}],"outputs":[{"name":"CLIP","type":"CLIP","links":[542],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":334,"type":"Reroute","pos":[4024.550319456963,873.8844089110265],"size":[82,26],"flags":{},"order":174,"mode":0,"inputs":[{"name":"","type":"*","link":554,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[555,556],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":335,"type":"Reroute","pos":[4024.550319456963,1423.8844089110269],"size":[82,26],"flags":{},"order":179,"mode":0,"inputs":[{"name":"","type":"*","link":556,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[557,558],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":337,"type":"Reroute","pos":[4014.550319456963,2433.884408911027],"size":[82,26],"flags":{},"order":192,"mode":0,"inputs":[{"name":"","type":"*","link":560,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[561],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":336,"type":"Reroute","pos":[4014.550319456963,1933.8844089110269],"size":[82,26],"flags":{},"order":185,"mode":0,"inputs":[{"name":"","type":"*","link":558,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[559,560],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":234,"type":"UpscaleModelLoader","pos":[3654.55031945696,823.8844089110265],"size":{"0":320,"1":60},"flags":{},"order":101,"mode":0,"inputs":[{"name":"model_name","type":"COMBO","link":563,"widget":{"name":"model_name"},"slot_index":0}],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[313],"shape":3}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["lollypop.pth"],"color":"#233","bgcolor":"#355"},{"id":243,"type":"UpscaleModelLoader","pos":[3664.55031945696,2393.884408911027],"size":{"0":320,"1":60},"flags":{"collapsed":false},"order":102,"mode":0,"inputs":[{"name":"model_name","type":"COMBO","link":564,"widget":{"name":"model_name"},"slot_index":0}],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[328],"shape":3}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["lollypop.pth"],"color":"#233","bgcolor":"#355"},{"id":237,"type":"UpscaleModelLoader","pos":[3664.55031945696,1353.8844089110269],"size":{"0":320,"1":60},"flags":{"collapsed":false},"order":104,"mode":0,"inputs":[{"name":"model_name","type":"COMBO","link":566,"widget":{"name":"model_name"},"slot_index":0}],"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[318],"shape":3}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["lollypop.pth"],"color":"#233","bgcolor":"#355"},{"id":144,"type":"ConcatStringSingle","pos":[37.73799491719121,2605.3564086441784],"size":{"0":315,"1":82},"flags":{},"order":135,"mode":0,"inputs":[{"name":"string_a","type":"STRING","link":244,"widget":{"name":"string_a"}},{"name":"string_b","type":"STRING","link":245,"widget":{"name":"string_b"}}],"outputs":[{"name":"STRING","type":"STRING","links":[288],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ConcatStringSingle"},"widgets_values":["",""],"color":"#322","bgcolor":"#533"},{"id":24,"type":"KSampler","pos":[2730,1360],"size":{"0":310,"1":270},"flags":{"collapsed":false},"order":194,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":548,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":956},{"name":"negative","type":"CONDITIONING","link":48,"slot_index":2},{"name":"latent_image","type":"LATENT","link":704},{"name":"seed","type":"INT","link":595,"widget":{"name":"seed"}},{"name":"sampler_name","type":"COMBO","link":51,"widget":{"name":"sampler_name"},"slot_index":5},{"name":"scheduler","type":"COMBO","link":52,"widget":{"name":"scheduler"}},{"name":"steps","type":"INT","link":602,"widget":{"name":"steps"}},{"name":"cfg","type":"FLOAT","link":608,"widget":{"name":"cfg"},"slot_index":8}],"outputs":[{"name":"LATENT","type":"LATENT","links":[58],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1500573,"fixed",30,7.5,"dpmpp_2m","karras",1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":134,"type":"PrimitiveNode","pos":[-1810,1130],"size":{"0":240,"1":230},"flags":{},"order":21,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[37,43,134,140,177],"widget":{"name":"app_text"},"slot_index":0}],"title":"app_text","properties":{"Run widget replace on values":false},"widgets_values":[""],"color":"#223","bgcolor":"#335"},{"id":158,"type":"Reroute","pos":[-1210,1000],"size":[82,26],"flags":{},"order":253,"mode":0,"inputs":[{"name":"","type":"*","link":679,"slot_index":0,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[590],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":157,"type":"Reroute","pos":[-1120,1000],"size":[82,26],"flags":{},"order":256,"mode":0,"inputs":[{"name":"","type":"*","link":686,"slot_index":0,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[591],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":159,"type":"Reroute","pos":[-1030,1000],"size":[82,26],"flags":{},"order":265,"mode":0,"inputs":[{"name":"","type":"*","link":692,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[592],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":76,"type":"KSampler","pos":[2750,2260],"size":{"0":310,"1":270},"flags":{"collapsed":false},"order":209,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":552,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":958},{"name":"negative","type":"CONDITIONING","link":144,"slot_index":2},{"name":"latent_image","type":"LATENT","link":708},{"name":"seed","type":"INT","link":597,"widget":{"name":"seed"}},{"name":"sampler_name","type":"COMBO","link":147,"widget":{"name":"sampler_name"},"slot_index":5},{"name":"scheduler","type":"COMBO","link":148,"widget":{"name":"scheduler"}},{"name":"steps","type":"INT","link":600,"widget":{"name":"steps"},"slot_index":7},{"name":"cfg","type":"FLOAT","link":606,"widget":{"name":"cfg"},"slot_index":8}],"outputs":[{"name":"LATENT","type":"LATENT","links":[151],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1500573,"fixed",30,7.5,"dpmpp_2m","karras",1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":257,"type":"PrimitiveNode","pos":[-40,1650],"size":{"0":210,"1":106},"flags":{},"order":22,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[338,350,362,374],"widget":{"name":"sampler_name"},"slot_index":0}],"title":"sampler_name","properties":{"Run widget replace on values":false},"widgets_values":["euler_ancestral","fixed",""],"color":"#233","bgcolor":"#355"},{"id":258,"type":"PrimitiveNode","pos":[170,1650],"size":{"0":210,"1":106},"flags":{},"order":23,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[339,351,363,375],"widget":{"name":"scheduler"},"slot_index":0}],"title":"scheduler","properties":{"Run widget replace on values":false},"widgets_values":["normal","fixed",""],"color":"#233","bgcolor":"#355"},{"id":318,"type":"VAEEncode","pos":[3664.55031945696,1183.8844089110269],"size":{"0":310,"1":50},"flags":{},"order":231,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":527},{"name":"vae","type":"VAE","link":661}],"outputs":[{"name":"LATENT","type":"LATENT","links":[529],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"},"color":"#233","bgcolor":"#355"},{"id":191,"type":"Compare","pos":[297.7379949171912,2485.3564086441784],"size":{"0":210,"1":80},"flags":{},"order":95,"mode":0,"inputs":[{"name":"a","type":"*","link":289,"slot_index":0},{"name":"b","type":"*","link":290,"slot_index":1}],"outputs":[{"name":"B","type":"BOOLEAN","links":[286],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Compare"},"widgets_values":["a == b"],"color":"#322","bgcolor":"#533"},{"id":169,"type":"PrimitiveNode","pos":[820,2000],"size":{"0":210,"1":82},"flags":{},"order":24,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[92,171,229,232,235,238,241,247],"widget":{"name":"batch_size"},"slot_index":0}],"title":"batch size (AniDiff)","properties":{"Run widget replace on values":false},"widgets_values":[48,"fixed"],"color":"#322","bgcolor":"#533"},{"id":189,"type":"PrimitiveNode","pos":[630,770],"size":{"0":210,"1":82},"flags":{},"order":25,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[56,94],"widget":{"name":"height"},"slot_index":0}],"title":"height","properties":{"Run widget replace on values":false},"widgets_values":[768,"fixed"],"color":"#223","bgcolor":"#335"},{"id":194,"type":"CM_IntToNumber","pos":[-2320,1040],"size":{"0":400,"1":60},"flags":{},"order":26,"mode":0,"outputs":[{"name":"NUMBER","type":"NUMBER","links":[289,294],"shape":3,"slot_index":0}],"title":"0 = use Deforum-Style Prompt else use stack","properties":{"Node name for S&R":"CM_IntToNumber"},"widgets_values":[1],"color":"#223","bgcolor":"#335"},{"id":151,"type":"CM_IntToNumber","pos":[60,2941.013896442039],"size":{"0":210,"1":60},"flags":{},"order":27,"mode":0,"outputs":[{"name":"NUMBER","type":"NUMBER","links":[251],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntToNumber"},"widgets_values":[0],"color":"#322","bgcolor":"#533"},{"id":358,"type":"PrimitiveNode","pos":[-30,1180],"size":{"0":210,"1":82},"flags":{},"order":28,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[600,601,602,603],"widget":{"name":"steps"},"slot_index":0}],"title":"steps","properties":{"Run widget replace on values":false},"widgets_values":[30,"fixed"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":342,"type":"Reroute","pos":[4939.758881907927,701.9908409621063],"size":[75,26],"flags":{},"order":178,"mode":0,"inputs":[{"name":"","type":"*","link":574,"pos":[37.5,0]}],"outputs":[{"name":"CLIP","type":"CLIP","links":[575],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":317,"type":"Reroute","pos":[8878.455474532086,1894.1910985212394],"size":[140.8,26],"flags":{},"order":283,"mode":0,"inputs":[{"name":"","type":"*","link":522}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[524,526],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":160,"type":"Reroute","pos":[-940,1000],"size":[82,26],"flags":{},"order":275,"mode":0,"inputs":[{"name":"","type":"*","link":700,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[593],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":142,"type":"PrimitiveNode","pos":[-60,1890],"size":{"0":210,"1":82},"flags":{},"order":29,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[72],"widget":{"name":"start_at_step"}}],"title":"A start_at_step","properties":{"Run widget replace on values":false},"widgets_values":[0,"fixed"],"color":"#322","bgcolor":"#533"},{"id":149,"type":"Compare","pos":[370,2971.013896442039],"size":{"0":300,"1":80},"flags":{},"order":126,"mode":0,"inputs":[{"name":"a","type":"*","link":251},{"name":"b","type":"*","link":252,"slot_index":1}],"outputs":[{"name":"B","type":"BOOLEAN","links":[248],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Compare"},"widgets_values":["a == b"],"color":"#322","bgcolor":"#533"},{"id":36,"type":"KSamplerAdvanced","pos":[9068.455474532086,1854.1910985212392],"size":{"0":320,"1":330},"flags":{"pinned":false},"order":284,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":63},{"name":"positive","type":"CONDITIONING","link":523},{"name":"negative","type":"CONDITIONING","link":524},{"name":"latent_image","type":"LATENT","link":579},{"name":"noise_seed","type":"INT","link":67,"widget":{"name":"noise_seed"}},{"name":"sampler_name","type":"COMBO","link":68,"widget":{"name":"sampler_name"},"slot_index":5},{"name":"scheduler","type":"COMBO","link":69,"widget":{"name":"scheduler"}},{"name":"steps","type":"INT","link":70,"widget":{"name":"steps"},"slot_index":7},{"name":"cfg","type":"FLOAT","link":71,"widget":{"name":"cfg"},"slot_index":8},{"name":"start_at_step","type":"INT","link":72,"widget":{"name":"start_at_step"},"slot_index":9},{"name":"end_at_step","type":"INT","link":73,"widget":{"name":"end_at_step"},"slot_index":10}],"outputs":[{"name":"LATENT","type":"LATENT","links":[85],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1500073,"randomize",20,6,"euler_ancestral","normal",0,12,"disable"],"color":"#322","bgcolor":"#533"},{"id":43,"type":"ADE_AnimateDiffUniformContextOptions","pos":[9078.455474532086,1444.191098521239],"size":{"0":340,"1":154},"flags":{"pinned":false},"order":30,"mode":0,"outputs":[{"name":"CONTEXT_OPTIONS","type":"CONTEXT_OPTIONS","links":[90],"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffUniformContextOptions"},"widgets_values":[16,1,0,"uniform",false],"color":"#322","bgcolor":"#533"},{"id":46,"type":"Reroute","pos":[8948.455474532087,1624.1910985212392],"size":[75,26],"flags":{},"order":193,"mode":0,"inputs":[{"name":"","type":"*","link":95}],"outputs":[{"name":"","type":"MODEL","links":[63,618],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":360,"type":"Reroute","pos":[9088.455474532086,1334.1910985212394],"size":[82,26],"flags":{},"order":199,"mode":0,"inputs":[{"name":"","type":"*","link":618}],"outputs":[{"name":"MODEL","type":"MODEL","links":[619],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":94,"type":"Reroute","pos":[9768.455474532086,1334.1910985212394],"size":[75,26],"flags":{},"order":206,"mode":0,"inputs":[{"name":"","type":"*","link":619}],"outputs":[{"name":"","type":"MODEL","links":[74]}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":180,"type":"Reroute","pos":[9768.455474532086,1364.1910985212396],"size":[75,26],"flags":{},"order":168,"mode":0,"inputs":[{"name":"","type":"*","link":278}],"outputs":[{"name":"VAE","type":"VAE","links":[87]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":38,"type":"NNLatentUpscale","pos":[9428.455474532087,1854.1910985212392],"size":{"0":315,"1":82},"flags":{"pinned":false},"order":285,"mode":0,"inputs":[{"name":"latent","type":"LATENT","link":85}],"outputs":[{"name":"LATENT","type":"LATENT","links":[77],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"NNLatentUpscale"},"widgets_values":["SD 1.x",1.5],"color":"#322","bgcolor":"#533"},{"id":37,"type":"KSamplerAdvanced","pos":[9848.455474532086,1854.1910985212392],"size":{"0":320,"1":330},"flags":{"pinned":false},"order":286,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":74},{"name":"positive","type":"CONDITIONING","link":525},{"name":"negative","type":"CONDITIONING","link":526,"slot_index":2},{"name":"latent_image","type":"LATENT","link":77},{"name":"noise_seed","type":"INT","link":78,"widget":{"name":"noise_seed"},"slot_index":4},{"name":"sampler_name","type":"COMBO","link":79,"widget":{"name":"sampler_name"}},{"name":"scheduler","type":"COMBO","link":80,"widget":{"name":"scheduler"},"slot_index":6},{"name":"steps","type":"INT","link":81,"widget":{"name":"steps"},"slot_index":7},{"name":"cfg","type":"FLOAT","link":82,"widget":{"name":"cfg"},"slot_index":8},{"name":"start_at_step","type":"INT","link":83,"widget":{"name":"start_at_step"},"slot_index":9},{"name":"end_at_step","type":"INT","link":84,"widget":{"name":"end_at_step"},"slot_index":10}],"outputs":[{"name":"LATENT","type":"LATENT","links":[86],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",1500073,"randomize",20,6,"euler_ancestral","normal",8,10000,"disable"],"color":"#322","bgcolor":"#533"},{"id":361,"type":"Reroute","pos":[10248.455474532084,1794.1910985212394],"size":[82,26],"flags":{},"order":288,"mode":0,"inputs":[{"name":"","type":"*","link":620,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[621],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":88,"type":"Reroute","pos":[8948.455474532087,1364.1910985212396],"size":[75,26],"flags":{},"order":162,"mode":0,"inputs":[{"name":"","type":"*","link":649}],"outputs":[{"name":"","type":"VAE","links":[278]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":363,"type":"Reroute","pos":[10060,-1200],"size":[82,26],"flags":{},"order":290,"mode":0,"inputs":[{"name":"","type":"*","link":622}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[623],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":319,"type":"Reroute","pos":[1680,330],"size":[75,26],"flags":{},"order":166,"mode":0,"inputs":[{"name":"","type":"*","link":614}],"outputs":[{"name":"CLIP","type":"CLIP","links":[531,573],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":327,"type":"Reroute","pos":[2390,440],"size":[82,26],"flags":{},"order":165,"mode":0,"inputs":[{"name":"","type":"*","link":543,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[544]}],"properties":{"showOutputText":true,"horizontal":true}},{"id":66,"type":"CLIPSetLastLayer","pos":[1000,320],"size":{"0":210,"1":80},"flags":{},"order":160,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":109}],"outputs":[{"name":"CLIP","type":"CLIP","links":[614],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2],"color":"#223","bgcolor":"#335"},{"id":312,"type":"Reroute","pos":[2170,270],"size":[82,26],"flags":{},"order":159,"mode":0,"inputs":[{"name":"","type":"*","link":617}],"outputs":[{"name":"MODEL","type":"MODEL","links":[520,543],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":18,"type":"TimestepKeyframe","pos":[6465.505820830451,2158.907730233761],"size":{"0":340,"1":214},"flags":{"pinned":false},"order":222,"mode":0,"inputs":[{"name":"control_net_weights","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"t2i_adapter_weights","type":"T2I_ADAPTER_WEIGHTS","link":null},{"name":"latent_keyframe","type":"LATENT_KEYFRAME","link":2294,"slot_index":2},{"name":"prev_timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"TIMESTEP_KEYFRAME","type":"TIMESTEP_KEYFRAME","links":[31],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TimestepKeyframe"},"widgets_values":[0,1,0,true,true],"color":"#232","bgcolor":"#353"},{"id":78,"type":"ControlNetApplyAdvanced","pos":[7279.75888190793,1851.9908409621044],"size":{"0":230,"1":170},"flags":{"pinned":false},"order":280,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":153},{"name":"negative","type":"CONDITIONING","link":154,"slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":155,"slot_index":2},{"name":"image","type":"IMAGE","link":156}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[159],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[160],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":26,"type":"Reroute","pos":[2260,440],"size":[75,26],"flags":{},"order":100,"mode":0,"inputs":[{"name":"","type":"*","link":481}],"outputs":[{"name":"VAE","type":"VAE","links":[630,638],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":245,"type":"KSampler","pos":[4234.550319456964,983.8844089110265],"size":{"0":320,"1":260},"flags":{},"order":242,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":555,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":333,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":334,"slot_index":2},{"name":"latent_image","type":"LATENT","link":529},{"name":"seed","type":"INT","link":598,"widget":{"name":"seed"},"slot_index":4},{"name":"denoise","type":"FLOAT","link":337,"widget":{"name":"denoise"},"slot_index":5},{"name":"sampler_name","type":"COMBO","link":338,"widget":{"name":"sampler_name"},"slot_index":6},{"name":"scheduler","type":"COMBO","link":339,"widget":{"name":"scheduler"},"slot_index":7}],"outputs":[{"name":"LATENT","type":"LATENT","links":[340],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1500573,"fixed",16,8,"euler_ancestral","normal",0.15],"color":"#233","bgcolor":"#355"},{"id":248,"type":"KSampler","pos":[4224.550319456964,1523.8844089110269],"size":{"0":320,"1":260},"flags":{},"order":246,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":557,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":345,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":346,"slot_index":2},{"name":"latent_image","type":"LATENT","link":347},{"name":"seed","type":"INT","link":611,"widget":{"name":"seed"}},{"name":"denoise","type":"FLOAT","link":349,"widget":{"name":"denoise"}},{"name":"sampler_name","type":"COMBO","link":350,"widget":{"name":"sampler_name"},"slot_index":6},{"name":"scheduler","type":"COMBO","link":351,"widget":{"name":"scheduler"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[352],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1500573,"fixed",16,8,"euler_ancestral","normal",0.15],"color":"#233","bgcolor":"#355"},{"id":251,"type":"KSampler","pos":[4204.550319456964,2053.884408911027],"size":{"0":320,"1":260},"flags":{},"order":258,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":559,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":357,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":358,"slot_index":2},{"name":"latent_image","type":"LATENT","link":359},{"name":"seed","type":"INT","link":612,"widget":{"name":"seed"},"slot_index":4},{"name":"denoise","type":"FLOAT","link":361,"widget":{"name":"denoise"}},{"name":"sampler_name","type":"COMBO","link":362,"widget":{"name":"sampler_name"},"slot_index":6},{"name":"scheduler","type":"COMBO","link":363,"widget":{"name":"scheduler"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[364],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1500573,"fixed",16,8,"euler_ancestral","normal",0.15],"color":"#233","bgcolor":"#355"},{"id":254,"type":"KSampler","pos":[4194.550319456964,2543.884408911027],"size":{"0":320,"1":260},"flags":{},"order":259,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":561,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":369,"slot_index":1},{"name":"negative","type":"CONDITIONING","link":370,"slot_index":2},{"name":"latent_image","type":"LATENT","link":371},{"name":"seed","type":"INT","link":613,"widget":{"name":"seed"}},{"name":"denoise","type":"FLOAT","link":373,"widget":{"name":"denoise"}},{"name":"sampler_name","type":"COMBO","link":374,"widget":{"name":"sampler_name"}},{"name":"scheduler","type":"COMBO","link":375,"widget":{"name":"scheduler"},"slot_index":7}],"outputs":[{"name":"LATENT","type":"LATENT","links":[376],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1500573,"fixed",16,8,"euler_ancestral","normal",0.15],"color":"#233","bgcolor":"#355"},{"id":373,"type":"Reroute","pos":[4114.550319456964,873.8844089110265],"size":[75,26],"flags":{},"order":150,"mode":0,"inputs":[{"name":"","type":"*","link":657,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[640,641],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":374,"type":"Reroute","pos":[4114.550319456964,1363.8844089110269],"size":[75,26],"flags":{},"order":156,"mode":0,"inputs":[{"name":"","type":"*","link":641,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[642,643],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":375,"type":"Reroute","pos":[4114.550319456964,1863.8844089110269],"size":[75,26],"flags":{},"order":161,"mode":0,"inputs":[{"name":"","type":"*","link":643,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[644,645],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":376,"type":"Reroute","pos":[4104.550319456964,2353.884408911027],"size":[75,26],"flags":{},"order":167,"mode":0,"inputs":[{"name":"","type":"*","link":645,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[646],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":377,"type":"Reroute","pos":[5035.505820830451,678.9077302337614],"size":[75,26],"flags":{},"order":151,"mode":0,"inputs":[{"name":"","type":"*","link":658}],"outputs":[{"name":"VAE","type":"VAE","links":[648],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":45,"type":"ADE_EmptyLatentImageLarge","pos":[1050,2000],"size":{"0":310.79998779296875,"1":74},"flags":{},"order":98,"mode":0,"inputs":[{"name":"batch_size","type":"INT","link":92,"widget":{"name":"batch_size"},"slot_index":0},{"name":"width","type":"INT","link":93,"widget":{"name":"width"},"slot_index":1},{"name":"height","type":"INT","link":94,"widget":{"name":"height"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[650],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ADE_EmptyLatentImageLarge"},"widgets_values":[512,768,48],"color":"#322","bgcolor":"#533"},{"id":380,"type":"Reroute","pos":[3010,400],"size":[90.4,26],"flags":{},"order":130,"mode":0,"inputs":[{"name":"","type":"*","link":651}],"outputs":[{"name":"LATENT","type":"LATENT","links":[652],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":341,"type":"Reroute","pos":[4474.550319456964,353.8844089110266],"size":[75,26],"flags":{},"order":173,"mode":0,"inputs":[{"name":"","type":"*","link":573}],"outputs":[{"name":"CLIP","type":"CLIP","links":[574],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":367,"type":"Reroute","pos":[8485.505820830467,658.9077302337614],"size":[82,26],"flags":{},"order":180,"mode":0,"inputs":[{"name":"","type":"*","link":628}],"outputs":[{"name":"MODEL","type":"MODEL","links":[629],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":378,"type":"Reroute","pos":[8485.505820830467,688.9077302337614],"size":[75,26],"flags":{},"order":157,"mode":0,"inputs":[{"name":"","type":"*","link":648}],"outputs":[{"name":"VAE","type":"VAE","links":[649],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":333,"type":"Reroute","pos":[4014.550319456963,463.8844089110266],"size":[82,26],"flags":{},"order":169,"mode":0,"inputs":[{"name":"","type":"*","link":553,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[554],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":384,"type":"Reroute","pos":[3894.5503194569615,703.8844089110265],"size":[75,26],"flags":{},"order":145,"mode":0,"inputs":[{"name":"","type":"*","link":656}],"outputs":[{"name":"VAE","type":"VAE","links":[657,658],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":383,"type":"Reroute","pos":[3544.5503194569606,613.8844089110265],"size":[75,26],"flags":{},"order":139,"mode":0,"inputs":[{"name":"","type":"*","link":964,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[656,660],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":385,"type":"Reroute","pos":[3544.5503194569606,1053.8844089110269],"size":[75,26],"flags":{},"order":146,"mode":0,"inputs":[{"name":"","type":"*","link":660,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[661,662],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":386,"type":"Reroute","pos":[3544.5503194569606,1643.8844089110269],"size":[75,26],"flags":{},"order":152,"mode":0,"inputs":[{"name":"","type":"*","link":662,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[663,664],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":387,"type":"Reroute","pos":[3544.5503194569606,2203.884408911027],"size":[75,26],"flags":{},"order":158,"mode":0,"inputs":[{"name":"","type":"*","link":664,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[665,666],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":388,"type":"Reroute","pos":[3544.5503194569606,2683.884408911027],"size":[75,26],"flags":{},"order":163,"mode":0,"inputs":[{"name":"","type":"*","link":666,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[667],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":379,"type":"Reroute","pos":[1640,390],"size":[90.4,26],"flags":{},"order":120,"mode":0,"inputs":[{"name":"","type":"*","link":650}],"outputs":[{"name":"LATENT","type":"LATENT","links":[651],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":381,"type":"Reroute","pos":[3584.55031945696,423.8844089110266],"size":[90.4,26],"flags":{},"order":137,"mode":0,"inputs":[{"name":"","type":"*","link":652}],"outputs":[{"name":"LATENT","type":"LATENT","links":[653],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":25,"type":"EmptyLatentImage","pos":[400,1190],"size":{"0":210,"1":80},"flags":{},"order":97,"mode":0,"inputs":[{"name":"width","type":"INT","link":55,"widget":{"name":"width"},"slot_index":0},{"name":"height","type":"INT","link":56,"widget":{"name":"height"},"slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[668],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,768,1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":389,"type":"Reroute","pos":[1340,660],"size":[90.4,26],"flags":{},"order":119,"mode":0,"inputs":[{"name":"","type":"*","link":668}],"outputs":[{"name":"LATENT","type":"LATENT","links":[669],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":390,"type":"Reroute","pos":[4845.505820830451,698.9077302337614],"size":[90.4,26],"flags":{},"order":149,"mode":0,"inputs":[{"name":"","type":"*","link":670,"pos":[45.2,0]}],"outputs":[{"name":"LATENT","type":"LATENT","links":[671],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":343,"type":"Reroute","pos":[4935.505820830451,1568.9077302337607],"size":[75,26],"flags":{},"order":184,"mode":0,"inputs":[{"name":"","type":"*","link":575,"pos":[37.5,0]}],"outputs":[{"name":"CLIP","type":"CLIP","links":[576],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":391,"type":"Reroute","pos":[4845.505820830451,1568.9077302337607],"size":[90.4,26],"flags":{},"order":155,"mode":0,"inputs":[{"name":"","type":"*","link":671,"pos":[45.2,0]}],"outputs":[{"name":"LATENT","type":"LATENT","links":[672],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":382,"type":"Reroute","pos":[4474.550319456964,433.8844089110266],"size":[90.4,26],"flags":{},"order":143,"mode":0,"inputs":[{"name":"","type":"*","link":653}],"outputs":[{"name":"LATENT","type":"LATENT","links":[670],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":256,"type":"PrimitiveNode","pos":[380,1540],"size":{"0":210,"1":82},"flags":{},"order":31,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[337,349,361,373],"widget":{"name":"denoise"},"slot_index":0}],"title":"denoise","properties":{"Run widget replace on values":false},"widgets_values":[0.15,"fixed"],"color":"#233","bgcolor":"#355"},{"id":392,"type":"Reroute","pos":[3140,870],"size":[82,26],"flags":{},"order":203,"mode":0,"inputs":[{"name":"","type":"*","link":673,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[674,675],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":394,"type":"Reroute","pos":[3040,70],"size":[82,26],"flags":{},"order":220,"mode":0,"inputs":[{"name":"","type":"*","link":676}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[677],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":395,"type":"Reroute","pos":[-1290,10],"size":[82,26],"flags":{},"order":232,"mode":0,"inputs":[{"name":"","type":"*","link":677}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[678],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":396,"type":"Reroute","pos":[-1180,50],"size":[82,26],"flags":{},"order":243,"mode":0,"inputs":[{"name":"","type":"*","link":678,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[679],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":27,"type":"VAEDecode","pos":[2820,1260],"size":{"0":210,"1":50},"flags":{},"order":200,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":58},{"name":"vae","type":"VAE","link":633}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[680],"slot_index":0,"label":"Keyframe 2"}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":397,"type":"Reroute","pos":[3210,1300],"size":[82,26],"flags":{},"order":207,"mode":0,"inputs":[{"name":"","type":"*","link":680,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[681,682],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":393,"type":"Reroute","pos":[3130,40],"size":[82,26],"flags":{},"order":211,"mode":0,"inputs":[{"name":"","type":"*","link":675,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[676],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":399,"type":"Reroute","pos":[3040,10],"size":[82,26],"flags":{},"order":226,"mode":0,"inputs":[{"name":"","type":"*","link":683}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[684],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":400,"type":"Reroute","pos":[-1290,-30],"size":[82,26],"flags":{},"order":237,"mode":0,"inputs":[{"name":"","type":"*","link":684}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[685],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":401,"type":"Reroute","pos":[-1100,50],"size":[82,26],"flags":{},"order":247,"mode":0,"inputs":[{"name":"","type":"*","link":685,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[686],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":72,"type":"VAEDecode","pos":[2840,1700],"size":{"0":210,"1":46},"flags":{},"order":208,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":119},{"name":"vae","type":"VAE","link":635}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[687],"slot_index":0,"label":"Keyframe 3"}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":405,"type":"Reroute","pos":[-1290,-70],"size":[82,26],"flags":{},"order":248,"mode":0,"inputs":[{"name":"","type":"*","link":690}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[691],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":406,"type":"Reroute","pos":[-1020,50],"size":[82,26],"flags":{},"order":257,"mode":0,"inputs":[{"name":"","type":"*","link":691,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[692],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":398,"type":"Reroute","pos":[3190,-40],"size":[82,26],"flags":{},"order":216,"mode":0,"inputs":[{"name":"","type":"*","link":682,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[683],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":404,"type":"Reroute","pos":[3040,-40],"size":[82,26],"flags":{},"order":238,"mode":0,"inputs":[{"name":"","type":"*","link":689}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[690],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":403,"type":"Reroute","pos":[3260,-100],"size":[82,26],"flags":{},"order":227,"mode":0,"inputs":[{"name":"","type":"*","link":688,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[689],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":402,"type":"Reroute","pos":[3270,1750],"size":[82,26],"flags":{},"order":217,"mode":0,"inputs":[{"name":"","type":"*","link":687,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[688,693],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":77,"type":"VAEDecode","pos":[2840,2160],"size":{"0":210,"1":50},"flags":{},"order":218,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":151},{"name":"vae","type":"VAE","link":637}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[329,694],"slot_index":0,"label":"Keyframe 4"}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":410,"type":"Reroute","pos":[-1290,-110],"size":[82,26],"flags":{},"order":260,"mode":0,"inputs":[{"name":"","type":"*","link":698}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[699],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":411,"type":"Reroute","pos":[-940,50],"size":[82,26],"flags":{},"order":268,"mode":0,"inputs":[{"name":"","type":"*","link":699,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[700],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":81,"type":"ControlNetApplyAdvanced","pos":[8095.505820830461,1858.9077302337607],"size":{"0":230,"1":170},"flags":{"pinned":false},"order":281,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":159},{"name":"negative","type":"CONDITIONING","link":160,"slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":161,"slot_index":2},{"name":"image","type":"IMAGE","link":162}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[521],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[522],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"color":"#232","bgcolor":"#353"},{"id":328,"type":"Reroute","pos":[2460,770],"size":[82,26],"flags":{},"order":171,"mode":0,"inputs":[{"name":"","type":"*","link":544,"pos":[41,0],"slot_index":0}],"outputs":[{"name":"MODEL","type":"MODEL","links":[545,547],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":368,"type":"Reroute","pos":[2520,740],"size":[75,26],"flags":{},"order":122,"mode":0,"inputs":[{"name":"","type":"*","link":630,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[631,632],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":108,"type":"Reroute","pos":[2030,670],"size":[90.4,26],"flags":{},"order":129,"mode":0,"inputs":[{"name":"","type":"*","link":669}],"outputs":[{"name":"LATENT","type":"LATENT","links":[701],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":412,"type":"Reroute","pos":[2400,800],"size":[90.4,26],"flags":{},"order":136,"mode":0,"inputs":[{"name":"","type":"*","link":701,"pos":[45.2,0]}],"outputs":[{"name":"LATENT","type":"LATENT","links":[702,703],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":369,"type":"Reroute","pos":[2510,1130],"size":[75,26],"flags":{},"order":131,"mode":0,"inputs":[{"name":"","type":"*","link":632,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[633,634],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":330,"type":"Reroute","pos":[2460,1160],"size":[82,26],"flags":{},"order":176,"mode":0,"inputs":[{"name":"","type":"*","link":547,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[548,549],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":413,"type":"Reroute","pos":[2400,1190],"size":[90.4,26],"flags":{},"order":142,"mode":0,"inputs":[{"name":"","type":"*","link":703,"pos":[45.2,0]}],"outputs":[{"name":"LATENT","type":"LATENT","links":[704,705],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":331,"type":"Reroute","pos":[2460,1580],"size":[82,26],"flags":{},"order":181,"mode":0,"inputs":[{"name":"","type":"*","link":549,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[550,551],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":370,"type":"Reroute","pos":[2510,1550],"size":[75,26],"flags":{},"order":138,"mode":0,"inputs":[{"name":"","type":"*","link":634,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[635,636],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":414,"type":"Reroute","pos":[2400,1610],"size":[90.4,26],"flags":{},"order":148,"mode":0,"inputs":[{"name":"","type":"*","link":705,"pos":[45.2,0]}],"outputs":[{"name":"LATENT","type":"LATENT","links":[706,707],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":332,"type":"Reroute","pos":[2460,2070],"size":[82,26],"flags":{},"order":187,"mode":0,"inputs":[{"name":"","type":"*","link":551,"pos":[41,0]}],"outputs":[{"name":"MODEL","type":"MODEL","links":[552],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":371,"type":"Reroute","pos":[2520,2040],"size":[75,26],"flags":{},"order":144,"mode":0,"inputs":[{"name":"","type":"*","link":636,"pos":[37.5,0]}],"outputs":[{"name":"VAE","type":"VAE","links":[637],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":415,"type":"Reroute","pos":[2400,2100],"size":[90.4,26],"flags":{},"order":154,"mode":0,"inputs":[{"name":"","type":"*","link":707,"pos":[45.2,0]}],"outputs":[{"name":"LATENT","type":"LATENT","links":[708],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":408,"type":"Reroute","pos":[3340,-160],"size":[82,26],"flags":{},"order":241,"mode":0,"inputs":[{"name":"","type":"*","link":709,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[697],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":407,"type":"Reroute","pos":[3360,2200],"size":[82,26],"flags":{},"order":230,"mode":0,"inputs":[{"name":"","type":"*","link":694,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[709],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":409,"type":"Reroute","pos":[3040,-90],"size":[82,26],"flags":{},"order":251,"mode":0,"inputs":[{"name":"","type":"*","link":697}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[698],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":12,"type":"KSampler","pos":[2730,900],"size":{"0":310,"1":270},"flags":{"collapsed":false},"order":190,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":545,"slot_index":0},{"name":"positive","type":"CONDITIONING","link":955},{"name":"negative","type":"CONDITIONING","link":851,"slot_index":2},{"name":"latent_image","type":"LATENT","link":702,"slot_index":3},{"name":"seed","type":"INT","link":594,"widget":{"name":"seed"},"slot_index":4},{"name":"sampler_name","type":"COMBO","link":17,"widget":{"name":"sampler_name"}},{"name":"scheduler","type":"COMBO","link":18,"widget":{"name":"scheduler"},"slot_index":6},{"name":"steps","type":"INT","link":601,"widget":{"name":"steps"},"slot_index":7},{"name":"cfg","type":"FLOAT","link":609,"widget":{"name":"cfg"},"slot_index":8}],"outputs":[{"name":"LATENT","type":"LATENT","links":[10],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1500573,"fixed",30,7.5,"dpmpp_2m","karras",1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":86,"type":"Reroute","pos":[3844.55031945696,293.8844089110266],"size":[82,26],"flags":{},"order":164,"mode":0,"inputs":[{"name":"","type":"*","link":520}],"outputs":[{"name":"MODEL","type":"MODEL","links":[553,765],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":366,"type":"Reroute","pos":[5121.134084814958,650],"size":[82,26],"flags":{},"order":175,"mode":0,"inputs":[{"name":"","type":"*","link":766}],"outputs":[{"name":"MODEL","type":"MODEL","links":[628],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":39,"type":"VAEDecode","pos":[9845.655938793454,1757.931590755259],"size":{"0":310,"1":50},"flags":{"pinned":false},"order":287,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":86},{"name":"vae","type":"VAE","link":87}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[620],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#322","bgcolor":"#533"},{"id":192,"type":"If ANY execute A else B","pos":[557.7379949171908,2335.3564086441784],"size":{"0":210,"1":66},"flags":{},"order":121,"mode":0,"inputs":[{"name":"ANY","type":"*","link":291,"slot_index":0},{"name":"IF_TRUE","type":"*","link":292,"slot_index":1},{"name":"IF_FALSE","type":"*","link":293}],"outputs":[{"name":"?","type":"*","links":[42,133,139,516],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"If ANY execute A else B"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":10,"type":"VAEDecode","pos":[2830,810],"size":{"0":210,"1":46},"flags":{},"order":197,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":10},{"name":"vae","type":"VAE","link":631}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[673],"slot_index":0,"label":"Keyframe 1"}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#2a363b","bgcolor":"#3f5159"},{"id":262,"type":"PrimitiveNode","pos":[170,1540],"size":{"0":210,"1":82},"flags":{},"order":32,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[312,317,322,327],"widget":{"name":"height"},"slot_index":0}],"title":"height","properties":{"Run widget replace on values":false},"widgets_values":[1152,"fixed"],"color":"#233","bgcolor":"#355"},{"id":203,"type":"PrimitiveNode","pos":[200,770],"size":{"0":210,"1":82},"flags":{"pinned":false,"collapsed":false},"order":33,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[38,44,135,141,298,300,302,304],"widget":{"name":"max_frames"},"slot_index":0}],"title":"max_frames (Txt2Img)","properties":{"Run widget replace on values":false},"widgets_values":[48,"fixed"],"color":"#223","bgcolor":"#335"},{"id":156,"type":"LoraLoader","pos":[210,260],"size":{"0":380,"1":130},"flags":{},"order":147,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":259},{"name":"clip","type":"CLIP","link":260,"slot_index":1}],"outputs":[{"name":"MODEL","type":"MODEL","links":[257],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[258],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["1990sAnimeStyleLora_1.safetensors",0.92,0.92],"color":"#223","bgcolor":"#335"},{"id":261,"type":"PrimitiveNode","pos":[-40,1540],"size":{"0":210,"1":82},"flags":{},"order":34,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[311,316,321,326],"widget":{"name":"width"}}],"title":"width","properties":{"Run widget replace on values":false},"widgets_values":[768,"fixed"],"color":"#233","bgcolor":"#355"},{"id":188,"type":"PrimitiveNode","pos":[420,770],"size":{"0":210,"1":82},"flags":{},"order":35,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[55,93],"widget":{"name":"width"},"slot_index":0}],"title":"width","properties":{"Run widget replace on values":false},"widgets_values":[512,"fixed"],"color":"#223","bgcolor":"#335"},{"id":148,"type":"If ANY execute A else B","pos":[740,3040],"size":{"0":210,"1":66},"flags":{},"order":134,"mode":0,"inputs":[{"name":"ANY","type":"*","link":248},{"name":"IF_TRUE","type":"*","link":249,"slot_index":1},{"name":"IF_FALSE","type":"*","link":250}],"outputs":[{"name":"?","type":"*","links":[178],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"If ANY execute A else B"},"color":"#322","bgcolor":"#533"},{"id":190,"type":"If ANY execute A else B","pos":[640,2490],"size":{"0":210,"1":66},"flags":{},"order":141,"mode":0,"inputs":[{"name":"ANY","type":"*","link":286,"slot_index":0},{"name":"IF_TRUE","type":"*","link":287,"slot_index":1},{"name":"IF_FALSE","type":"*","link":288}],"outputs":[{"name":"?","type":"*","links":[175],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"If ANY execute A else B"},"color":"#322","bgcolor":"#533"},{"id":74,"type":"PromptSchedule","pos":[2000,1720],"size":{"0":400,"1":360},"flags":{"collapsed":false},"order":195,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":539},{"name":"current_frame","type":"INT","link":960,"widget":{"name":"current_frame"},"slot_index":1},{"name":"pre_text","type":"STRING","link":132,"widget":{"name":"pre_text"}},{"name":"text","type":"STRING","link":133,"widget":{"name":"text"}},{"name":"app_text","type":"STRING","link":134,"widget":{"name":"app_text"}},{"name":"max_frames","type":"INT","link":135,"widget":{"name":"max_frames"},"slot_index":5}],"outputs":[{"name":"POS","type":"CONDITIONING","links":[357,957],"shape":3,"slot_index":0},{"name":"NEG","type":"CONDITIONING","links":[123,358],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"PromptSchedule"},"widgets_values":["\"0\" :\"(hands on hips:0.95)\",\n\"3\" :\"looking at viewer, (pointing at viewer:1.1)\",\n\"6\" :\"looking at viewer, (embarrassed:1.1), (hands on breasts:1.2)\",\n\"9\" :\"eyes closed, raised fist:1.2), >:)\",\n\"12\" :\"paw pose, XD\",\n\"15\" :\"(hands on hips:0.95)\",\n",48,6,false,"1girl, (absurdly long grey hair:1.1), grey eyes, grey cat ears, (black tanktop:1.3), solo, medium breasts, topheavy, collarbone, wide hips, grey pleated skirt, sitting, upper body, (white background:1.2), smug, hidden ears, \n--neg (worst quality, low quality: 1.4), (short hair:1.1), ponytail, (side ponytails:1.2), cat tail, arms up, (gloves:1.45), yellow, green, (3d:1.2), pink eyes, necklace, realistic, red jacket, (braids:1.3), twintails, top knot, hair ornament, coat, side ponytail, hair band, hair bow, red, purse, bag, hair bun, (cape, shawl:1.2), sheet, clouds, absurdly long hair, human ears, elf ears, pointy ears, black bow, navel","",0,0,0,0],"color":"#2a363b","bgcolor":"#3f5159"},{"id":75,"type":"PromptSchedule","pos":[1990,2160],"size":{"0":400,"1":360},"flags":{"collapsed":false},"order":202,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":542},{"name":"current_frame","type":"INT","link":959,"widget":{"name":"current_frame"}},{"name":"pre_text","type":"STRING","link":138,"widget":{"name":"pre_text"},"slot_index":2},{"name":"text","type":"STRING","link":139,"widget":{"name":"text"},"slot_index":3},{"name":"app_text","type":"STRING","link":140,"widget":{"name":"app_text"},"slot_index":4},{"name":"max_frames","type":"INT","link":141,"widget":{"name":"max_frames"},"slot_index":5}],"outputs":[{"name":"POS","type":"CONDITIONING","links":[369,958],"shape":3,"slot_index":0},{"name":"NEG","type":"CONDITIONING","links":[144,370],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"PromptSchedule"},"widgets_values":["\"0\" :\"(hands on hips:0.95)\",\n\"3\" :\"looking at viewer, (pointing at viewer:1.1)\",\n\"6\" :\"looking at viewer, (embarrassed:1.1), (hands on breasts:1.2)\",\n\"9\" :\"eyes closed, raised fist:1.2), >:)\",\n\"12\" :\"paw pose, XD\",\n\"15\" :\"(hands on hips:0.95)\",\n",48,0,false,"1girl, (absurdly long grey hair:1.1), grey eyes, grey cat ears, (black tanktop:1.3), solo, medium breasts, topheavy, collarbone, wide hips, grey pleated skirt, sitting, upper body, (white background:1.2), smug, hidden ears, \n--neg (worst quality, low quality: 1.4), (short hair:1.1), ponytail, (side ponytails:1.2), cat tail, arms up, (gloves:1.45), yellow, green, (3d:1.2), pink eyes, necklace, realistic, red jacket, (braids:1.3), twintails, top knot, hair ornament, coat, side ponytail, hair band, hair bow, red, purse, bag, hair bun, (cape, shawl:1.2), sheet, clouds, absurdly long hair, human ears, elf ears, pointy ears, black bow, navel","",0,0,0,0],"color":"#2a363b","bgcolor":"#3f5159"},{"id":54,"type":"PrimitiveNode","pos":[400,2000],"size":{"0":210,"1":106},"flags":{},"order":36,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[69,80],"widget":{"name":"scheduler"},"slot_index":0}],"title":"scheduler","properties":{"Run widget replace on values":false},"widgets_values":["normal","fixed",""],"color":"#322","bgcolor":"#533"},{"id":53,"type":"PrimitiveNode","pos":[610,2000],"size":{"0":210,"1":106},"flags":{},"order":37,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[68,79],"widget":{"name":"sampler_name"},"slot_index":0}],"title":"sampler_name","properties":{"Run widget replace on values":false},"widgets_values":["euler_ancestral","fixed",""],"color":"#322","bgcolor":"#533"},{"id":372,"type":"Reroute","pos":[2970,450],"size":[75,26],"flags":{},"order":123,"mode":0,"inputs":[{"name":"","type":"*","link":638}],"outputs":[{"name":"VAE","type":"VAE","links":[963],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":520,"type":"Reroute","pos":[3495.3182478056765,474.39755601546113],"size":[75,26],"flags":{},"order":132,"mode":0,"inputs":[{"name":"","type":"*","link":963}],"outputs":[{"name":"VAE","type":"VAE","links":[964],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":143,"type":"PrimitiveNode","pos":[-60,2000],"size":{"0":210,"1":82},"flags":{},"order":38,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[73],"widget":{"name":"end_at_step"},"slot_index":0}],"title":"A end_at_step","properties":{"Run widget replace on values":false},"widgets_values":[12,"fixed"],"color":"#322","bgcolor":"#533"},{"id":145,"type":"PrimitiveNode","pos":[170,1890],"size":{"0":210,"1":82},"flags":{},"order":39,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[83],"widget":{"name":"start_at_step"}}],"title":"B start_at_step","properties":{"Run widget replace on values":false},"widgets_values":[8,"fixed"],"color":"#322","bgcolor":"#533"},{"id":140,"type":"PrimitiveNode","pos":[400,1890],"size":{"0":210,"1":82},"flags":{},"order":40,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[70,81],"widget":{"name":"steps"}}],"title":"steps","properties":{"Run widget replace on values":false},"widgets_values":[20,"fixed"],"color":"#322","bgcolor":"#533"},{"id":359,"type":"PrimitiveNode","pos":[180,1180],"size":{"0":210,"1":82},"flags":{},"order":41,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[606,607,608,609],"widget":{"name":"cfg"},"slot_index":0}],"title":"cfg","properties":{"Run widget replace on values":false},"widgets_values":[7.5,"fixed"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":111,"type":"PrimitiveNode","pos":[-2100,1730],"size":{"0":530,"1":120},"flags":{},"order":42,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[184,199,200],"widget":{"name":"text_c"},"slot_index":0}],"title":"text_c","properties":{"Run widget replace on values":false},"widgets_values":["(eyes closed:1), arms crossed"],"color":"#223","bgcolor":"#335"},{"id":109,"type":"PrimitiveNode","pos":[-2100,1400],"size":{"0":530,"1":110},"flags":{},"order":43,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[182,196],"widget":{"name":"text_a"},"slot_index":0}],"title":"text_a","properties":{"Run widget replace on values":false},"widgets_values":["(blush:1.0)\n"],"color":"#223","bgcolor":"#335"},{"id":110,"type":"PrimitiveNode","pos":[-2100,1560],"size":{"0":530,"1":120},"flags":{},"order":44,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[183,197,198],"widget":{"name":"text_b"},"slot_index":0}],"title":"text_b","properties":{"Run widget replace on values":false},"widgets_values":["(thumbs up:1.2), (eyes closed:1.1) --neg (gloves:1.35), text, speech bubble, words"],"color":"#223","bgcolor":"#335"},{"id":983,"type":"Note","pos":[1590,1010],"size":{"0":320,"1":150},"flags":{},"order":45,"mode":0,"properties":{"text":""},"widgets_values":["This node calculates the actual current frame in the sequence. Index is the designated frame (zero indexed so 0 = frame 1) and num_latent_inputs (number of frames being passed to controlnet)."],"color":"#323","bgcolor":"#535"},{"id":823,"type":"Note","pos":[1620,500],"size":{"0":270,"1":170},"flags":{},"order":46,"mode":0,"properties":{"text":""},"widgets_values":["This is where the initial input images are diffused. The pretext and schedule text is shared between these nodes. The difference is every next ksampler is one frame ahead. Notice the schedule is using adjacent frames instead of having space apart, this is because we are only making the keyframes for anidiff to follow. The rest of the parameters are to be uniform across these ksamplers."],"color":"#323","bgcolor":"#535"},{"id":980,"type":"Note","pos":[-3020,720],"size":{"0":1320,"1":180},"flags":{},"order":47,"mode":0,"properties":{"text":""},"widgets_values":["\n******************************  Make sure to save your frames into an isolated folder! ex: MyVideo/frame *************************************\n\n\nWhen you have decided on your final frames: \n-Mute the save image node \n-Unmute the Video Combine nodes. \n\nMake sure the path is pointing at the folder you output your frames into. Simply queue after you are ready and it will create the video out of all the frames in the output folder. If the video is too large, raise the \"crf\" value. The opposite if the video is too small and lower quality. (Don't you dare save a .gif!!! >:( )\n\nIf you plan on adding frame interpolation, make sure you have all your sequences rendered before you perform it (unless you want to see how a section looks with it on then be my guest)!"],"color":"#323","bgcolor":"#535"},{"id":986,"type":"Note","pos":[-830,990],"size":{"0":420,"1":80},"flags":{},"order":48,"mode":0,"properties":{"text":""},"widgets_values":["Thank you for trying out this workflow. If you like this setup, please drop into the repos and leave a star for me and all the others that made this possible. I couldn't have put this together without them. I love you all, users and devs alike! Follow your dreams! ~Fizz (aka Ani)"],"color":"#323","bgcolor":"#535"},{"id":963,"type":"Note","pos":[-2990,1650],"size":{"0":640,"1":590},"flags":{},"order":49,"mode":0,"properties":{"text":""},"widgets_values":["Some notes on the schedule syntax:\n\n`` = expressions need to be enclosed in backticks to be calculated\n\n--neg = any prompt after this is put into the negative conditioning.\n\nmax_f = the max frames of the animation. In this case it will always be the batch size for animate diff and four for txt2img. This is going to be useful for keeping the expressions scheduled correctly across.\n\nt = the current frame. Main driver for expressions across time.\n\n\nIf you want to use expressions, you will need to use the deforum syntax inputs (above this node). \n\nFor txt2img would look something like:\n\n`0.5+0.5*-cos(3.14*(t*(4-1)/4))`\n\nwhere \"4\" is the number of latent inputs, subtracted by one and then multiplied by t (the current frame).\n\nYou can also use a prompt weight input as a handy variable if you have changing num latents depending where you are in the sequence:\n\n`0.5+0.5*-cos(3.14*(t*(pw_a-1)/(pw_a)))` \n\n(set pw_a to the static number of latents on the txt2img schedule nodes or use the regular value schedule node)\n\nFor Animate Diff, the expressions should look something like:\n\n`0.5+0.5*-cos(3.14*(t*(max_f-1)/32))`\n\nWhere t is multiplied by max frames to sync the correct current frame. You can also set up another prompt weight variable to take batch size as the input.\n\n`0.5+0.5*-cos(3.14*(t*(max_f-1)/pw_b))`\n\nwhere pw_b = batch size\n\n The peaks and valleys of both the expressions match if you set it up to repeat every max amount of frames for each section or in the case of anidiff's expression, you can divide the pw_b in multiples of 2 and add extra peaks and valleys in-between and maintain sync with txt2img. \n\nFor audio sync, keep the above in mind. Syncing with the controlnet schedule is trickier as it's in python syntax. You will need to manually match the peaks and valleys of the input frames to maintain the sync with the Animate diff prompt schedule.\n\nIf you want asymmetric scheduling, match the controlnet and anidiff schedules peaks and valleys. Using the print_outputs bool, print out the batch output and manually put in the exact values for the text2img section\n\n"],"color":"#323","bgcolor":"#535"},{"id":985,"type":"Note","pos":[-2880,2290],"size":{"0":420,"1":450},"flags":{},"order":50,"mode":0,"properties":{"text":""},"widgets_values":["Other Handy links to enhance your animation experience:\n\n-https://sd-parseq.web.app/?docId=doc-ba69a40b-e2f2-49bd-9dbf-106788467c7e (it's compatible with Fizznodes!)\n-https://github.com/rewbs/sd-parseq (local Parseq install)\n-https://www.framesync.xyz/\n-https://www.chigozie.co.uk/keyframe-string-generator/\n\nHelpful Hotkeys:\n\nctrl + a = select all nodes.\n\nctrl + b = bypass (useful for skipping input frames so you use less inputs as well as any other things you want to bypass like loras).\n\nctrl + c = copy selected nodes.\n\nctrl + v = paste nodes in clipboard.\n\nctrl + m = mute node (useful for turning off animate diff until you find a good set of txt2img outputs).\n\nshift + drag = marque select.\n\nshift + drag (on selected nodes) = move all selected nodes at once.\n\nctrl/shift + click = add clicked node to selection\n\nSpace/MMB = pan around the workflow (useful for not accidentally sliding a value unintentionally, try to get used to doing this instead of left clicking)\n\n"],"color":"#323","bgcolor":"#535"},{"id":960,"type":"Note","pos":[-2910,1040],"size":{"0":590,"1":60},"flags":{},"order":51,"mode":0,"properties":{"text":""},"widgets_values":["If you prefer the Deforum-style syntax, set the \"a\" value to 0 and the workflow will use these two inputs instead of the prompt stack. Keep in mind you need to figure out the offset yourself instead of it being auto calculated by the prompt stack."],"color":"#323","bgcolor":"#535"},{"id":826,"type":"Note","pos":[-2270,2570],"size":{"0":1470,"1":140},"flags":{},"order":52,"mode":0,"properties":{"text":""},"widgets_values":["You will notice the prompts are the same here but are keyed every 16 frames. Animate diff will handle the in-between frames while the inputs from txt2img will decide the start, end and in-between keyframe of every 16 frame sequence. The key values for anidiff are calculated with the keyframes here as well as the \"Start frame conversion for AniDiff\" Group. If you plan on scaling up the amount of frames, you will need to set those to the appropriate batch sizes. \n\nAdding keyframes is easy: \n-select a row with a marque select (ctrl+left mouse button) \n-copy it (ctrl+c)\n-paste the new row underneath the existing rows ***Move the groups and this note as needed to give yourself room!***\n-noodle the \"b\" input for the binary operation to \"batch size (AniDiff) so any changes to that apply to all the operations.\n-noodle the frame number primitive to the frame input(s) and noodle the text primitive to the text inputs ***add more String Concatenate nodes as needed to give yourself more keyframe inputs, use how I am doing it here as an example of how to continue***"],"color":"#323","bgcolor":"#535"},{"id":196,"type":"Text box","pos":[-2980,1170],"size":{"0":400,"1":200},"flags":{},"order":53,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[292],"shape":3,"slot_index":0}],"title":"Txt2Img","properties":{"Node name for S&R":"Text box"},"widgets_values":["\"0\" :\"laying on side\",\n\"3\" :\"laying on back\",\n\"6\" :\"hand on cheek, (eyes closed:1.1), (sleeping:1.1)\",\n\"9\" :\"(eyes closed:1.2), paw pose, (sleeping:1.2)\",\n\"12\" :\"(hand on cheek:1.2)\",\n\"15\" :\"(pointing at viewer:1.095), :D\",\n\"18\" :\"hands on hips, :), from side\",\n\"24\" :\"\",\n\"27\" :\"\",\n\"30\" :\"\",\n\"33\" :\"\",\n"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":197,"type":"Text box","pos":[-2980,1400],"size":{"0":400,"1":200},"flags":{},"order":54,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[287],"shape":3,"slot_index":0}],"title":"Animate Diff","properties":{"Node name for S&R":"Text box"},"widgets_values":["\"0\" :\"laying on side\",\n\"12\" :\"laying on back\",\n\"24\" :\"hand on cheek, (eyes closed:1.1), (sleeping:1.1)\",\n\"36\" :\"(eyes closed:1.2), paw pose, (sleeping:1.2), laying on side\",\n\"48\" :\"(hand on cheek:1.2)\",\n\"60\" :\"(pointing at viewer:1.095), :D\",\n\"72\" :\"hands on hips, :), from side\",\n\"84\" :\"\",\n\"96\" :\"\",\n\"108\" :\"\",\n\"120\" :\"\",\n"],"color":"#322","bgcolor":"#533"},{"id":822,"type":"Note","pos":[-2580,1400],"size":{"0":250,"1":220},"flags":{},"order":55,"mode":0,"properties":{"text":""},"widgets_values":["Below is where the logic for the first and last input frames is decided for each sequence. As the current frame increments, it will make sure the end of every sequence will will be the same as first frame in the next sequence. Notice the adjacent frames in the latter String Concats from the Mul (multiply) and Sub (subtract) Binary Operations. frame 0 sequences will always be {0,1,2,3}. keeping the end frame the same as the first will result in a loop"],"color":"#323","bgcolor":"#535"},{"id":969,"type":"Note","pos":[-2580,1170],"size":{"0":250,"1":200},"flags":{},"order":56,"mode":0,"properties":{"text":""},"widgets_values":["using the schedule stack is easy. simply dial in the key number to the left of the text input and write out the prompt that is to be scheduled. There doesn't need to be any required deforum syntax in order for this to work. Optional deforum variables can still be used however like prompt weight inputs, t, max_f and expressions. Make sure the first frame is always 0 and if you set any frame after to 0, it will turn off that keyframe. Otherwise, always key a value above what came before."],"color":"#323","bgcolor":"#535"},{"id":987,"type":"Note","pos":[-20,260],"size":{"0":210,"1":80},"flags":{},"order":57,"mode":0,"properties":{"text":""},"widgets_values":["These lora nodes aren't in use so I set them to bypass (ctrl + b to turn them back on)"],"color":"#323","bgcolor":"#535"},{"id":69,"type":"LoraLoader","pos":[580,580],"size":{"0":380,"1":130},"flags":{"pinned":false},"order":124,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":114},{"name":"clip","type":"CLIP","link":115}],"outputs":[{"name":"MODEL","type":"MODEL","links":[116],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[2303],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["1990sAnimeStyleLora_1.safetensors",0.25,0.25],"color":"#223","bgcolor":"#335"},{"id":978,"type":"Note","pos":[400,1310],"size":{"0":210,"1":80},"flags":{},"order":58,"mode":0,"properties":{"text":""},"widgets_values":["This is just the empty latent for txt2img. Leave the batch size at 1."],"color":"#323","bgcolor":"#535"},{"id":970,"type":"Note","pos":[-370,1580],"size":{"0":210,"1":140},"flags":{},"order":59,"mode":0,"properties":{"text":""},"widgets_values":["These string concatonate nodes assign each input with text with an input keyframe with the matching variable (a, b, c , etc). They are then all concatenated before making the standard format for the prompt schedules."],"color":"#323","bgcolor":"#535"},{"id":971,"type":"Note","pos":[-380,2210],"size":{"0":210,"1":150},"flags":{},"order":60,"mode":0,"properties":{"text":""},"widgets_values":["For the anidiff schedule, each in-between frame needs to be scheduled twice and adjacent to each other to ensure each set of clips can flow into each other like in txt2img only animations. You may or may not be able to delete the extra frame, it all depends on results"],"color":"#323","bgcolor":"#535"},{"id":984,"type":"Note","pos":[820,2110],"size":{"0":370,"1":60},"flags":{},"order":61,"mode":0,"properties":{"text":""},"widgets_values":["For the batch size, the minimum must be 16 frames and the size also has to be an even number (eg: 16, 18, 24, 32, etc.)"],"color":"#323","bgcolor":"#535"},{"id":976,"type":"Note","pos":[-150,2110],"size":{"0":540,"1":60},"flags":{"collapsed":false},"order":62,"mode":0,"properties":{"text":""},"widgets_values":["These are the start and end steps for the neural net latent upscale. I am including this because it's the most efficient (in my experience) way to highres fix in the least amount of time. Use the amount of steps to control the denoise between the two advanced ksamplers."],"color":"#323","bgcolor":"#535"},{"id":977,"type":"Note","pos":[1040,1900],"size":{"0":360,"1":60},"flags":{"collapsed":false},"order":63,"mode":0,"properties":{"text":""},"widgets_values":["These are the sampler settings for both advanced ksamplers. You can add a second set of these and try different samplers and schedulers separately for each advanced ksampler."],"color":"#323","bgcolor":"#535"},{"id":824,"type":"Note","pos":[5041.134084814958,1020],"size":{"0":370,"1":200},"flags":{"pinned":false},"order":64,"mode":0,"properties":{"text":""},"widgets_values":["Here is where the txt2img outputs are input into tile controlnet. Left image is the first frame and the right is the last. mess around with the keyed controlnet strengths. This is the main driver for movement into the next keyframes. Scaled Soft Controlnet strength shifts the conditioning focus to \"my prompt is more important\" (like in A1111 controlnet extension). Try mixing and matching different values to find a good interpolation between frames. This is very much Wax on, wax off until you are satisfied with the quality.\n\nYou'll notice there are some load image nodes above the Frame previews. This is to replace frames with new generated images that would fit better in the sequence or loading in repaired frames after using lama cleaner and inpaint."],"color":"#323","bgcolor":"#535"},{"id":981,"type":"Note","pos":[5321.134084814958,2320],"size":{"0":210,"1":340},"flags":{"pinned":false},"order":65,"mode":0,"properties":{"text":""},"widgets_values":["The idea behind controlnet strength is simple: \n\nA value of 0 means the motion module is at full strength for influencing the output while controlnet does nothing. \n\nA value of 1 means the controlnet is fully influencing the output at the keyed frame while the motion module does nothing.\n\nThis is kind of like denoise in a way (balance between input image and new result) except the values are reversed and it affects the in-between results of the image rather than changing the input images outright (unless you want it to of course).\n\nUse this to your advantage to make holds in your animations as well as blend interpolations smoothly."],"color":"#323","bgcolor":"#535"},{"id":968,"type":"Note","pos":[-50,2350],"size":{"0":260,"1":60},"flags":{},"order":66,"mode":0,"properties":{"text":""},"widgets_values":["This group calculates the conversion from txt2img frames to anidiff keys."],"color":"#323","bgcolor":"#535"},{"id":967,"type":"Note","pos":[710,2890],"size":{"0":250,"1":60},"flags":{"pinned":false},"order":67,"mode":0,"properties":{"text":""},"widgets_values":["This group calculates the conversion from txt2img index to anidiff index."],"color":"#323","bgcolor":"#535"},{"id":962,"type":"Note","pos":[8331.134084814972,1950],"size":{"0":250,"1":80},"flags":{"pinned":false},"order":68,"mode":0,"properties":{"text":""},"widgets_values":["You can add more Controlnet/ipadapter inputs here just by copying and pasting the current setup and changing the controlnet model"],"color":"#323","bgcolor":"#535"},{"id":91,"type":"BatchPromptScheduleLatentInput","pos":[4911.134084814958,1730],"size":{"0":400,"1":360},"flags":{"collapsed":false,"pinned":false},"order":191,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":576,"slot_index":0},{"name":"num_latents","type":"LATENT","link":672},{"name":"text","type":"STRING","link":175,"widget":{"name":"text"}},{"name":"pre_text","type":"STRING","link":176,"widget":{"name":"pre_text"}},{"name":"app_text","type":"STRING","link":177,"widget":{"name":"app_text"},"slot_index":4},{"name":"start_frame","type":"INT","link":178,"widget":{"name":"start_frame"}}],"outputs":[{"name":"POS","type":"CONDITIONING","links":[21],"shape":3,"slot_index":0},{"name":"NEG","type":"CONDITIONING","links":[22],"shape":3,"slot_index":1},{"name":"INPUT_LATENTS","type":"LATENT","links":[437],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"BatchPromptScheduleLatentInput"},"widgets_values":["\n",false,"1girl, (absurdly long grey hair:1.1), grey eyes, grey cat ears, (black tanktop:1.3), solo, medium breasts, topheavy, collarbone, wide hips, grey pleated skirt, sitting, upper body, (white background:1.2), smug, hidden ears, \n--neg (worst quality, low quality: 1.4), (short hair:1.1), ponytail, (side ponytails:1.2), cat tail, arms up, (gloves:1.45), yellow, green, (3d:1.2), pink eyes, necklace, realistic, red jacket, (braids:1.3), twintails, top knot, hair ornament, coat, side ponytail, hair band, hair bow, red, purse, bag, hair bun, (cape, shawl:1.2), sheet, clouds, absurdly long hair, human ears, elf ears, pointy ears, black bow, navel","",0,0,0,0,0],"color":"#232","bgcolor":"#353"},{"id":966,"type":"Note","pos":[5331.134084814958,1930],"size":{"0":210,"1":100},"flags":{"pinned":false},"order":69,"mode":0,"properties":{"text":""},"widgets_values":["You can add more Controlnet/ipadapter inputs here just by copying and pasting the current setup and changing the controlnet model"],"color":"#323","bgcolor":"#535"},{"id":979,"type":"Note","pos":[6231.134084814958,2450],"size":{"0":210,"1":180},"flags":{"pinned":false},"order":70,"mode":0,"properties":{"text":""},"widgets_values":["For the controlnet schedules, make sure you key up to the batch size minus one. As you can see, keying over the batch size is ok but won't be processed. Keep this in mind if you plan on changing the batch size at the next sequence. I'd suggest having a few nodes copy and pasted to the side with the schedules values for longer or shorter sequences so you can swap them on the fly."],"color":"#323","bgcolor":"#535"},{"id":982,"type":"Note","pos":[8845.655938793454,1457.931590755259],"size":{"0":210,"1":130},"flags":{"pinned":false},"order":71,"mode":0,"properties":{"text":""},"widgets_values":["I turned off the sliding window stuff as much as I could since txt2img will handle loops not animate diff. The blending messes with the beginning and end frames flow into each other. Feel free to experiment with different setting!"],"color":"#323","bgcolor":"#535"},{"id":961,"type":"Note","pos":[9845.655938793454,1587.931590755259],"size":{"0":290,"1":110},"flags":{"pinned":false},"order":72,"mode":0,"properties":{"text":""},"widgets_values":["I didn't add upscaling here since everyone seems to have their own preference. The images are batched so keep this in mind if you are doing an image upscale. Large batches + Anidiff is a lot of VRAM! Also consider using yolov8 with Impact nodes to improve face details"],"color":"#323","bgcolor":"#535"},{"id":141,"type":"PrimitiveNode","pos":[610,1890],"size":{"0":210,"1":82},"flags":{},"order":73,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[71,82],"widget":{"name":"cfg"}}],"title":"cfg","properties":{"Run widget replace on values":false},"widgets_values":[6,"fixed"],"color":"#322","bgcolor":"#533"},{"id":52,"type":"PrimitiveNode","pos":[820,1890],"size":{"0":210,"1":82},"flags":{},"order":74,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[67,78],"widget":{"name":"noise_seed"},"slot_index":0}],"title":"noise_seed","properties":{"Run widget replace on values":false},"widgets_values":[1500073,"fixed"],"color":"#322","bgcolor":"#533"},{"id":212,"type":"CalculateFrameOffset","pos":[1600,1740],"size":{"0":320,"1":130},"flags":{},"order":111,"mode":0,"inputs":[{"name":"current_frame","type":"INT","link":301,"widget":{"name":"current_frame"},"slot_index":0},{"name":"max_frames","type":"INT","link":302,"widget":{"name":"max_frames"},"slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":[960],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CalculateFrameOffset"},"widgets_values":[1,48,4,2],"color":"#2a363b","bgcolor":"#3f5159"},{"id":213,"type":"CalculateFrameOffset","pos":[1600,2180],"size":{"0":320,"1":130},"flags":{},"order":112,"mode":0,"inputs":[{"name":"current_frame","type":"INT","link":303,"widget":{"name":"current_frame"},"slot_index":0},{"name":"max_frames","type":"INT","link":304,"widget":{"name":"max_frames"},"slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":[959],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CalculateFrameOffset"},"widgets_values":[1,48,4,3],"color":"#2a363b","bgcolor":"#3f5159"},{"id":211,"type":"CalculateFrameOffset","pos":[1580,1300],"size":{"0":320,"1":130},"flags":{},"order":110,"mode":0,"inputs":[{"name":"current_frame","type":"INT","link":299,"widget":{"name":"current_frame"},"slot_index":0},{"name":"max_frames","type":"INT","link":300,"widget":{"name":"max_frames"},"slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":[961],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CalculateFrameOffset"},"widgets_values":[1,48,4,1],"color":"#2a363b","bgcolor":"#3f5159"},{"id":20,"type":"PromptSchedule","pos":[1990,1270],"size":{"0":400,"1":360},"flags":{"collapsed":false},"order":188,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":536},{"name":"current_frame","type":"INT","link":961,"widget":{"name":"current_frame"},"slot_index":1},{"name":"pre_text","type":"STRING","link":41,"widget":{"name":"pre_text"},"slot_index":2},{"name":"text","type":"STRING","link":42,"widget":{"name":"text"},"slot_index":3},{"name":"app_text","type":"STRING","link":43,"widget":{"name":"app_text"},"slot_index":4},{"name":"max_frames","type":"INT","link":44,"widget":{"name":"max_frames"},"slot_index":5}],"outputs":[{"name":"POS","type":"CONDITIONING","links":[345,956],"shape":3,"slot_index":0},{"name":"NEG","type":"CONDITIONING","links":[48,346],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"PromptSchedule"},"widgets_values":["",48,0,false,"1girl, (absurdly long grey hair:1.1), grey eyes, grey cat ears, (black tanktop:1.3), solo, medium breasts, topheavy, collarbone, wide hips, grey pleated skirt, sitting, upper body, (white background:1.2), smug, hidden ears, \n--neg (worst quality, low quality: 1.4), (short hair:1.1), ponytail, (side ponytails:1.2), cat tail, arms up, (gloves:1.45), yellow, green, (3d:1.2), pink eyes, necklace, realistic, red jacket, (braids:1.3), twintails, top knot, hair ornament, coat, side ponytail, hair band, hair bow, red, purse, bag, hair bun, (cape, shawl:1.2), sheet, clouds, absurdly long hair, human ears, elf ears, pointy ears, black bow, navel","",0,0,0,0],"color":"#2a363b","bgcolor":"#3f5159"},{"id":19,"type":"PromptSchedule","pos":[2000,810],"size":{"0":400,"1":360},"flags":{"collapsed":false},"order":183,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":537},{"name":"current_frame","type":"INT","link":962,"widget":{"name":"current_frame"},"slot_index":1},{"name":"pre_text","type":"STRING","link":35,"widget":{"name":"pre_text"}},{"name":"text","type":"STRING","link":516,"widget":{"name":"text"},"slot_index":3},{"name":"app_text","type":"STRING","link":37,"widget":{"name":"app_text"},"slot_index":4},{"name":"max_frames","type":"INT","link":38,"widget":{"name":"max_frames"},"slot_index":5}],"outputs":[{"name":"POS","type":"CONDITIONING","links":[333,955],"shape":3,"slot_index":0},{"name":"NEG","type":"CONDITIONING","links":[334,851],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"PromptSchedule"},"widgets_values":["\"0\" :\"(hands on hips:0.95)\",\n\"3\" :\"looking at viewer, (pointing at viewer:1.1)\",\n\"6\" :\"looking at viewer, (embarrassed:1.1), (hands on breasts:1.2)\",\n\"9\" :\"eyes closed, raised fist:1.2), >:)\",\n\"12\" :\"paw pose, XD\",\n\"15\" :\"(hands on hips:0.95)\",\n",48,1,false,"1girl, (absurdly long grey hair:1.1), grey eyes, grey cat ears, (black tanktop:1.3), solo, medium breasts, topheavy, collarbone, wide hips, grey pleated skirt, sitting, upper body, (white background:1.2), smug, hidden ears, \n--neg (worst quality, low quality: 1.4), (short hair:1.1), ponytail, (side ponytails:1.2), cat tail, arms up, (gloves:1.45), yellow, green, (3d:1.2), pink eyes, necklace, realistic, red jacket, (braids:1.3), twintails, top knot, hair ornament, coat, side ponytail, hair band, hair bow, red, purse, bag, hair bun, (cape, shawl:1.2), sheet, clouds, absurdly long hair, human ears, elf ears, pointy ears, black bow, navel","",0,0,0,0],"color":"#2a363b","bgcolor":"#3f5159"},{"id":210,"type":"CalculateFrameOffset","pos":[1600,830],"size":{"0":320,"1":130},"flags":{},"order":109,"mode":0,"inputs":[{"name":"current_frame","type":"INT","link":297,"widget":{"name":"current_frame"},"slot_index":0},{"name":"max_frames","type":"INT","link":298,"widget":{"name":"max_frames"},"slot_index":1}],"outputs":[{"name":"INT","type":"INT","links":[962],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CalculateFrameOffset"},"widgets_values":[1,48,4,0],"color":"#2a363b","bgcolor":"#3f5159"},{"id":23,"type":"PrimitiveNode","pos":[-2320,1130],"size":{"0":500,"1":240},"flags":{},"order":75,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[35,41,132,138,176],"widget":{"name":"pre_text"},"slot_index":0}],"title":"pre_text","properties":{"Run widget replace on values":false},"widgets_values":["1girl, (absurdly long grey hair:1.1), grey eyes, grey cat ears, (black tanktop:1.3), solo, medium breasts, topheavy, collarbone, wide hips, grey pleated skirt, sitting, upper body, (white background:1.2), smug, hidden ears, \n--neg (worst quality, low quality: 1.4), (short hair:1.1), ponytail, (side ponytails:1.2), cat tail, arms up, (gloves:1.45), yellow, green, (3d:1.2), pink eyes, necklace, realistic, red jacket, (braids:1.3), twintails, top knot, hair ornament, coat, side ponytail, hair band, hair bow, red, purse, bag, hair bun, (cape, shawl:1.2), sheet, clouds, absurdly long hair, human ears, elf ears, pointy ears, black bow, navel"],"color":"#223","bgcolor":"#335"},{"id":445,"type":"Reroute","pos":[4480,290],"size":[82,26],"flags":{},"order":170,"mode":0,"inputs":[{"name":"","type":"*","link":765}],"outputs":[{"name":"MODEL","type":"MODEL","links":[766],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":56,"type":"PrimitiveNode","pos":[-1910,1040],"size":{"0":210,"1":58},"flags":{},"order":76,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[102],"widget":{"name":"filename_prefix"}}],"title":"Keyframe_prefix","properties":{"Run widget replace on values":false},"widgets_values":["videos/demo/frame"],"color":"#223","bgcolor":"#335"},{"id":362,"type":"Reroute","pos":[10190,-1240],"size":[82,26],"flags":{},"order":289,"mode":0,"inputs":[{"name":"","type":"*","link":621,"pos":[41,0]}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[622],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":365,"type":"Reroute","pos":[-3180,-940],"size":[82,26],"flags":{},"order":292,"mode":0,"inputs":[{"name":"","type":"*","link":624}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[625],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":364,"type":"Reroute","pos":[-3320,-1220],"size":[82,26],"flags":{},"order":291,"mode":0,"inputs":[{"name":"","type":"*","link":623}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[624],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":123,"type":"PrimitiveNode","pos":[-2100,2380],"size":{"0":520,"1":110},"flags":{},"order":77,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[188,222],"widget":{"name":"text_g"},"slot_index":0}],"title":"text_g","properties":{"Run widget replace on values":false},"widgets_values":["blush:1.0)"],"color":"#223","bgcolor":"#335"},{"id":933,"type":"Note","pos":[-1674,237],"size":{"0":1502.5618896484375,"1":402.2898254394531},"flags":{},"order":78,"mode":0,"properties":{"text":""},"widgets_values":["   █████████               ███   ██            ███████████              █████     ████████  █████                           ████████  █████   █████  ███      █████                         \n  ███░░░░░███             ░░░   ███           ░█░░░███░░░█             ░░███     ███░░░░███░░███                           ███░░░░███░░███   ░░███  ░░░      ░░███                          \n ░███    ░███  ████████   ████ ░░░   █████    ░   ░███  ░  █████ █████ ███████  ░░░    ░███ ░███  █████████████    ███████░░░    ░███ ░███    ░███  ████   ███████                          \n ░███████████ ░░███░░███ ░░███      ███░░         ░███    ░░███ ░░███ ░░░███░      ███████  ░███ ░░███░░███░░███  ███░░███   ███████  ░███    ░███ ░░███  ███░░███                          \n ░███░░░░░███  ░███ ░███  ░███     ░░█████        ░███     ░░░█████░    ░███      ███░░░░   ░███  ░███ ░███ ░███ ░███ ░███  ███░░░░   ░░███   ███   ░███ ░███ ░███                          \n ░███    ░███  ░███ ░███  ░███      ░░░░███       ░███      ███░░░███   ░███ ███ ███      █ ░███  ░███ ░███ ░███ ░███ ░███ ███      █  ░░░█████░    ░███ ░███ ░███                          \n █████   █████ ████ █████ █████     ██████        █████    █████ █████  ░░█████ ░██████████ █████ █████░███ █████░░███████░██████████    ░░███      █████░░████████                         \n░░░░░   ░░░░░ ░░░░ ░░░░░ ░░░░░     ░░░░░░        ░░░░░    ░░░░░ ░░░░░    ░░░░░  ░░░░░░░░░░ ░░░░░ ░░░░░ ░░░ ░░░░░  ░░░░░███░░░░░░░░░░      ░░░      ░░░░░  ░░░░░░░░                          \n                                                                                                                  ███ ░███                                                                  \n                                                                                                                 ░░██████                                                                   \n                                                                                                                  ░░░░░░                                                                    \n   █████████               ███                             █████     ███                         █████   ███   █████                    █████         ██████  ████                          \n  ███░░░░░███             ░░░                             ░░███     ░░░                         ░░███   ░███  ░░███                    ░░███         ███░░███░░███                          \n ░███    ░███  ████████   ████  █████████████    ██████   ███████   ████   ██████  ████████      ░███   ░███   ░███   ██████  ████████  ░███ █████  ░███ ░░░  ░███   ██████  █████ ███ █████\n ░███████████ ░░███░░███ ░░███ ░░███░░███░░███  ░░░░░███ ░░░███░   ░░███  ███░░███░░███░░███     ░███   ░███   ░███  ███░░███░░███░░███ ░███░░███  ███████    ░███  ███░░███░░███ ░███░░███ \n ░███░░░░░███  ░███ ░███  ░███  ░███ ░███ ░███   ███████   ░███     ░███ ░███ ░███ ░███ ░███     ░░███  █████  ███  ░███ ░███ ░███ ░░░  ░██████░  ░░░███░     ░███ ░███ ░███ ░███ ░███ ░███ \n ░███    ░███  ░███ ░███  ░███  ░███ ░███ ░███  ███░░███   ░███ ███ ░███ ░███ ░███ ░███ ░███      ░░░█████░█████░   ░███ ░███ ░███      ░███░░███   ░███      ░███ ░███ ░███ ░░███████████  \n █████   █████ ████ █████ █████ █████░███ █████░░████████  ░░█████  █████░░██████  ████ █████       ░░███ ░░███     ░░██████  █████     ████ █████  █████     █████░░██████   ░░████░████   \n░░░░░   ░░░░░ ░░░░ ░░░░░ ░░░░░ ░░░░░ ░░░ ░░░░░  ░░░░░░░░    ░░░░░  ░░░░░  ░░░░░░  ░░░░ ░░░░░         ░░░   ░░░       ░░░░░░  ░░░░░     ░░░░ ░░░░░  ░░░░░     ░░░░░  ░░░░░░     ░░░░ ░░░░    \n                                                                                                                                                                                            \n\nA flexible and extendable animation workflow using txt2img interpolated frames as inputs for animate diff. Allows for keyframe editing and repair, swappable frames and custom image inputs for maximum flexibility in stages. Designed to inference in parallel with multiple GPUs or with a friend to maximize outputs over time. Get creative and enjoy yourself! created 11/18/2023, updated 12/15/2023"],"color":"#222","bgcolor":"#000"},{"id":68,"type":"LoraLoader","pos":[200,580],"size":{"0":380,"1":130},"flags":{},"order":105,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":112},{"name":"clip","type":"CLIP","link":113,"slot_index":1}],"outputs":[{"name":"MODEL","type":"MODEL","links":[114],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[115],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["boldline.safetensors",0.25,0.25],"color":"#223","bgcolor":"#335"},{"id":67,"type":"LoraLoader","pos":[575.969603480323,422.2431721574176],"size":{"0":380,"1":130},"flags":{},"order":140,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":110},{"name":"clip","type":"CLIP","link":111}],"outputs":[{"name":"MODEL","type":"MODEL","links":[259],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[260],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["smv1-10.safetensors",0.6,0.6],"color":"#223","bgcolor":"#335"},{"id":11,"type":"VAELoader","pos":[980,430],"size":{"0":420,"1":70},"flags":{},"order":79,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[481],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.ckpt"],"color":"#223","bgcolor":"#335"},{"id":988,"type":"Note","pos":[-1110,660],"size":{"0":730,"1":240},"flags":{},"order":80,"mode":0,"properties":{"text":""},"widgets_values":["This workflow is flexible in that you can choose to be as refined or rushed as you want when creating chaining sequences. The idea is, the beginning and end frames of each sequence chain together seamlessly. This is great because you can work non-destructively as you edit txt2img results (or include your own loaded keyframes if you like). This division of inference makes it possible to diffuse multiple sequences in parallel using multiple GPUs. It also enables collaboration as sections can be assigned to other people (as long as the beginning and end frames can connect). This is what I imagined animation workflows moving towards as txt2video only doesn't give you the option to edit keyframes and direct what happens in an animation at the keyframe level and txt2img animations end up being too jittery despite having a lot of control with prompts. This workflow combines the best of both worlds that allows for full control over outputs to give you what you want. Please enjoy yourself and experiment with some of the suggested repositories.\n\nHow to use:\n- set up your preffered txt2img and Animate Diff settings.\n- set current frame to 0 and the control after generate to increment.\n- under extra options in the menu, set the batch count to the number of frame sequences you have scheduled.\n- queue prompt.\n\n*note: you can designate a starting sequence number onward to multiple gpu(s) or a friend(s) to inference at the same time.*\n\nColour Legend:\nDark Blue = shared parameters\nLight Blue = Txt2img Parameters\nRed = Animate Diff Parameters\nGreen = Controlnet Parameters\nYellow = Some math automation (you don't need to touch these)\nPurple = Notes\nBlack = Output (and the title node)\n\n*I didn't pin all the nodes forgive me! Later versions will be less clumsy promise!*"],"color":"#323","bgcolor":"#535"},{"id":338,"type":"PrimitiveNode","pos":[380,1650],"size":{"0":210,"1":106},"flags":{},"order":81,"mode":0,"outputs":[{"name":"COMBO","type":"COMBO","links":[563,564,565,566],"widget":{"name":"model_name"},"slot_index":0}],"title":"model_name","properties":{"Run widget replace on values":false},"widgets_values":["lollypop.pth","fixed",""],"color":"#233","bgcolor":"#355"},{"id":79,"type":"ControlNetLoaderAdvanced","pos":[7279.75888190793,2051.990840962107],"size":{"0":367.79998779296875,"1":58},"flags":{"pinned":false},"order":244,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":157,"slot_index":0}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[155],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11f1e_sd15_tile.pth"],"color":"#232","bgcolor":"#353"},{"id":82,"type":"ControlNetLoaderAdvanced","pos":[8105.505820830462,2088.907730233761],"size":{"0":344.3999938964844,"1":60},"flags":{"pinned":false},"order":254,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":163,"slot_index":0}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[161],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11f1e_sd15_tile.pth"],"color":"#232","bgcolor":"#353"},{"id":821,"type":"Note","pos":[-1690,660],"size":{"0":580,"1":240},"flags":{},"order":82,"mode":0,"properties":{"text":""},"widgets_values":["Nodes Needed:\n\nhttps://github.com/Kosinkadink/ComfyUI-Advanced-ControlNet\nhttps://github.com/Kosinkadink/ComfyUI-AnimateDiff-Evolved\nhttps://github.com/Kosinkadink/ComfyUI-VideoHelperSuite\nhttps://github.com/FizzleDorf/ComfyUI_FizzNodes\nhttps://github.com/WASasquatch/PowerNoiseSuite\nhttps://github.com/evanspearman/ComfyMath\nhttps://github.com/theUpsider/ComfyUI-Logic\nhttps://github.com/Ttl/ComfyUi_NNLatentUpscale\nhttps://github.com/Derfuu/Derfuu_ComfyUI_ModdedNodes\n\nSuggested for extending functionality:\n\nhttps://github.com/ltdrdata/ComfyUI-Impact-Pack\nhttps://github.com/city96/SD-Latent-Upscaler\nhttps://github.com/cubiq/ComfyUI_IPAdapter_plus\nhttps://github.com/laksjdjf/IPAdapter-ComfyUI\nhttps://github.com/kijai/ComfyUI-KJNodes\nhttps://github.com/a1lazydog/ComfyUI-AudioScheduler\nhttps://github.com/storyicon/comfyui_segment_anything\nhttps://github.com/Fannovel16/comfyui_controlnet_aux\nhttps://github.com/Fannovel16/ComfyUI-Frame-Interpolation\nhttps://github.com/Fannovel16/ComfyUI-Loopchain\nhttps://github.com/Fannovel16/ComfyUI-MotionDiff\nhttps://github.com/city96/SD-Advanced-Noise\nhttps://github.com/city96/ComfyUI_ColorMod\n*Probably a lot more I'm missing but I'm getting carried away*"],"color":"#323","bgcolor":"#535"},{"id":1350,"type":"ADE_AnimateDiffModelSettingsAdvancedAttnStrengths","pos":[9434,1426],"size":{"0":369.6000061035156,"1":394},"flags":{},"order":83,"mode":0,"inputs":[{"name":"mask_motion_scale","type":"MASK","link":null}],"outputs":[{"name":"MOTION_MODEL_SETTINGS","type":"MOTION_MODEL_SETTINGS","links":[2290],"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffModelSettingsAdvancedAttnStrengths"},"widgets_values":[1,1,1,1,1,1,1,1,0,0,0,0,0,1,1]},{"id":42,"type":"ADE_AnimateDiffLoaderWithContext","pos":[9078.455474532086,1624.1910985212392],"size":{"0":340,"1":190},"flags":{"pinned":false},"order":186,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":629},{"name":"context_options","type":"CONTEXT_OPTIONS","link":90,"slot_index":1},{"name":"motion_lora","type":"MOTION_LORA","link":null},{"name":"motion_model_settings","type":"MOTION_MODEL_SETTINGS","link":2290,"slot_index":3}],"outputs":[{"name":"MODEL","type":"MODEL","links":[95],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ADE_AnimateDiffLoaderWithContext"},"widgets_values":["mm-Stabilized_mid.pth","sqrt_linear (AnimateDiff)",1,true],"color":"#322","bgcolor":"#533"},{"id":65,"type":"CheckpointLoaderSimpleWithNoiseSelect","pos":[-260,580],"size":{"0":420,"1":200},"flags":{},"order":84,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[112],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[113],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":null,"shape":3}],"properties":{"Node name for S&R":"CheckpointLoaderSimpleWithNoiseSelect"},"widgets_values":["based66_v30.safetensors","sqrt_linear (AnimateDiff)"],"color":"#223","bgcolor":"#335"},{"id":80,"type":"TimestepKeyframe","pos":[7279.75888190793,2141.990840962107],"size":{"0":340,"1":214},"flags":{"pinned":false},"order":234,"mode":0,"inputs":[{"name":"control_net_weights","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"t2i_adapter_weights","type":"T2I_ADAPTER_WEIGHTS","link":null},{"name":"latent_keyframe","type":"LATENT_KEYFRAME","link":2295,"slot_index":2},{"name":"prev_timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null,"slot_index":3}],"outputs":[{"name":"TIMESTEP_KEYFRAME","type":"TIMESTEP_KEYFRAME","links":[157],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"TimestepKeyframe"},"widgets_values":[0,1,0,true,true],"color":"#232","bgcolor":"#353"},{"id":1358,"type":"LatentKeyframeBatchedGroup","pos":[8106,2447],"size":{"0":319.20001220703125,"1":82},"flags":{},"order":235,"mode":0,"inputs":[{"name":"prev_latent_kf","type":"LATENT_KEYFRAME","link":null},{"name":"float_strengths","type":"FLOAT","link":2298,"widget":{"name":"float_strengths"},"slot_index":1}],"outputs":[{"name":"LATENT_KF","type":"LATENT_KEYFRAME","links":[2297],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentKeyframeBatchedGroup"},"widgets_values":[-1,false],"color":"#232","bgcolor":"#353"},{"id":55,"type":"SaveImage","pos":[-3010,-940],"size":{"0":1320,"1":1620},"flags":{},"order":293,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":625},{"name":"filename_prefix","type":"STRING","link":102,"widget":{"name":"filename_prefix"},"slot_index":1}],"properties":{},"widgets_values":["videos/demo/frame"],"color":"#222","bgcolor":"#000"},{"id":40,"type":"VHS_LoadImagesPath","pos":[-3390,2570],"size":{"0":350,"1":200},"flags":{},"order":85,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[2299],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"slot_index":1},{"name":"INT","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_LoadImagesPath"},"widgets_values":{"directory":"C:\\Users\\kytra\\OneDrive\\Desktop\\uncursed_comfyui\\ComfyUI_windows_portable_nvidia_cu121_or_cpu\\ComfyUI_windows_portable\\ComfyUI\\output\\videos\\demo","image_load_cap":0,"skip_first_images":0,"select_every_nth":1},"color":"#223","bgcolor":"#335"},{"id":165,"type":"LoadImage","pos":[5560,912],"size":{"0":410,"1":420},"flags":{},"order":86,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["example.png","image"],"color":"#232","bgcolor":"#353"},{"id":33,"type":"Reroute","pos":[5245.505820830451,858.9077302337614],"size":[75,26],"flags":{},"order":261,"mode":0,"inputs":[{"name":"","type":"*","link":60}],"outputs":[{"name":"","type":"IMAGE","links":[61,2301],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":70,"type":"LoraLoader","pos":[200,420],"size":{"0":380,"1":130},"flags":{},"order":133,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":116},{"name":"clip","type":"CLIP","link":2303,"slot_index":1}],"outputs":[{"name":"MODEL","type":"MODEL","links":[110],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[111],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["chibi-laugh.safetensors",0.7000000000000001,0.7000000000000001],"color":"#223","bgcolor":"#335"},{"id":1359,"type":"VHS_VideoCombine","pos":[-3771,1563],"size":[315,250],"flags":{},"order":106,"mode":2,"inputs":[{"name":"images","type":"IMAGE","link":2299}],"outputs":[],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":12,"loop_count":0,"filename_prefix":"AnimateDiff","format":"video/h265-mp4","pingpong":false,"save_image":true,"crf":8,"save_metadata":true,"audio_file":"","videopreview":{"hidden":false,"paused":false,"params":{"filename":"AnimateDiff_00008.mp4","subfolder":"","type":"output","format":"video/h265-mp4"}}}},{"id":1357,"type":"LatentKeyframeBatchedGroup","pos":[7290,2397],"size":{"0":319.20001220703125,"1":82},"flags":{},"order":223,"mode":0,"inputs":[{"name":"prev_latent_kf","type":"LATENT_KEYFRAME","link":null},{"name":"float_strengths","type":"FLOAT","link":2296,"widget":{"name":"float_strengths"},"slot_index":1}],"outputs":[{"name":"LATENT_KF","type":"LATENT_KEYFRAME","links":[2295],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentKeyframeBatchedGroup"},"widgets_values":[-1,false],"color":"#232","bgcolor":"#353"},{"id":293,"type":"BatchValueScheduleLatentInput","pos":[7297,2520],"size":{"0":400,"1":200},"flags":{},"order":214,"mode":0,"inputs":[{"name":"num_latents","type":"LATENT","link":439,"slot_index":0}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2296],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":null,"shape":3},{"name":"LATENT","type":"LATENT","links":[440],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"BatchValueScheduleLatentInput"},"widgets_values":["0:(0),\n23:(0),\n24:(0.15),\n30:(0.4),\n35:(0.15),\n36:(0),"],"color":"#232","bgcolor":"#353"},{"id":294,"type":"BatchValueScheduleLatentInput","pos":[8108,2585],"size":{"0":400,"1":200},"flags":{},"order":224,"mode":0,"inputs":[{"name":"num_latents","type":"LATENT","link":440,"slot_index":0}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2298],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":null,"shape":3,"slot_index":1},{"name":"LATENT","type":"LATENT","links":[579],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"BatchValueScheduleLatentInput"},"widgets_values":["0:(0),\n35:(0),\n36:(0.15),\n47:(1.0),\n"],"color":"#232","bgcolor":"#353"},{"id":1356,"type":"LatentKeyframeBatchedGroup","pos":[6470,2432],"size":{"0":319.20001220703125,"1":82},"flags":{},"order":213,"mode":0,"inputs":[{"name":"prev_latent_kf","type":"LATENT_KEYFRAME","link":null},{"name":"float_strengths","type":"FLOAT","link":2293,"widget":{"name":"float_strengths"},"slot_index":1}],"outputs":[{"name":"LATENT_KF","type":"LATENT_KEYFRAME","links":[2294],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentKeyframeBatchedGroup"},"widgets_values":[-1,false],"color":"#232","bgcolor":"#353"},{"id":292,"type":"BatchValueScheduleLatentInput","pos":[6466,2564],"size":{"0":352.79998779296875,"1":250},"flags":{},"order":205,"mode":0,"inputs":[{"name":"num_latents","type":"LATENT","link":438,"slot_index":0}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2293],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":null,"shape":3},{"name":"LATENT","type":"LATENT","links":[439],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"BatchValueScheduleLatentInput"},"widgets_values":["0:(0),\n11:(0.0),\n12:(0.15),\n18:(0.4),\n23:(0.15),\n24:(0),"],"color":"#232","bgcolor":"#353"},{"id":1355,"type":"LatentKeyframeBatchedGroup","pos":[5546,2423],"size":{"0":319.20001220703125,"1":82},"flags":{},"order":204,"mode":0,"inputs":[{"name":"prev_latent_kf","type":"LATENT_KEYFRAME","link":null},{"name":"float_strengths","type":"FLOAT","link":2291,"widget":{"name":"float_strengths"},"slot_index":1}],"outputs":[{"name":"LATENT_KF","type":"LATENT_KEYFRAME","links":[2292],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentKeyframeBatchedGroup"},"widgets_values":[-1,false],"color":"#232","bgcolor":"#353"},{"id":291,"type":"BatchValueScheduleLatentInput","pos":[5548,2562],"size":{"0":352.79998779296875,"1":250},"flags":{},"order":198,"mode":0,"inputs":[{"name":"num_latents","type":"LATENT","link":437,"slot_index":0}],"outputs":[{"name":"FLOAT","type":"FLOAT","links":[2291],"shape":3,"slot_index":0},{"name":"INT","type":"INT","links":null,"shape":3,"slot_index":1},{"name":"LATENT","type":"LATENT","links":[438],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"BatchValueScheduleLatentInput"},"widgets_values":["0:(1.0),\n11:(0.15),\n12:(0),\n\n"],"color":"#232","bgcolor":"#353"},{"id":28,"type":"PrimitiveNode","pos":[420,890],"size":{"0":210,"1":82},"flags":{},"order":87,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[594,595,596,597,598,611,612,613],"widget":{"name":"seed"},"slot_index":0}],"title":"seed","properties":{"Run widget replace on values":false},"widgets_values":[1500573,"fixed"],"color":"#223","bgcolor":"#335"},{"id":22,"type":"PrimitiveNode","pos":[200,890],"size":{"0":210,"1":82},"flags":{},"order":88,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[246,253,297,299,301,303],"widget":{"name":"a"},"slot_index":0}],"title":"current_frame","properties":{"Run widget replace on values":false},"widgets_values":[1,"increment"],"color":"#223","bgcolor":"#335"}],"links":[[10,12,0,10,0,"LATENT"],[17,29,0,12,5,"COMBO"],[18,30,0,12,6,"COMBO"],[21,91,0,13,0,"CONDITIONING"],[22,91,1,13,1,"CONDITIONING"],[23,14,0,13,2,"CONTROL_NET"],[25,15,0,14,0,"TIMESTEP_KEYFRAME"],[27,13,0,16,0,"CONDITIONING"],[28,13,1,16,1,"CONDITIONING"],[29,17,0,16,2,"CONTROL_NET"],[30,87,0,16,3,"IMAGE"],[31,18,0,17,0,"TIMESTEP_KEYFRAME"],[35,23,0,19,2,"STRING"],[37,134,0,19,4,"STRING"],[38,203,0,19,5,"INT"],[41,23,0,20,2,"STRING"],[42,192,0,20,3,"STRING"],[43,134,0,20,4,"STRING"],[44,203,0,20,5,"INT"],[48,20,1,24,2,"CONDITIONING"],[51,29,0,24,5,"COMBO"],[52,30,0,24,6,"COMBO"],[55,188,0,25,0,"INT"],[56,189,0,25,1,"INT"],[58,24,0,27,0,"LATENT"],[60,246,0,33,0,"*"],[61,33,0,34,0,"IMAGE"],[62,87,0,35,0,"IMAGE"],[63,46,0,36,0,"MODEL"],[67,52,0,36,4,"INT"],[68,53,0,36,5,"COMBO"],[69,54,0,36,6,"COMBO"],[70,140,0,36,7,"INT"],[71,141,0,36,8,"FLOAT"],[72,142,0,36,9,"INT"],[73,143,0,36,10,"INT"],[74,94,0,37,0,"MODEL"],[77,38,0,37,3,"LATENT"],[78,52,0,37,4,"INT"],[79,53,0,37,5,"COMBO"],[80,54,0,37,6,"COMBO"],[81,140,0,37,7,"INT"],[82,141,0,37,8,"FLOAT"],[83,145,0,37,9,"INT"],[84,146,0,37,10,"INT"],[85,36,0,38,0,"LATENT"],[86,37,0,39,0,"LATENT"],[87,180,0,39,1,"VAE"],[90,43,0,42,1,"CONTEXT_OPTIONS"],[92,169,0,45,0,"INT"],[93,188,0,45,1,"INT"],[94,189,0,45,2,"INT"],[95,42,0,46,0,"*"],[102,56,0,55,1,"STRING"],[109,155,1,66,0,"CLIP"],[110,70,0,67,0,"MODEL"],[111,70,1,67,1,"CLIP"],[112,65,0,68,0,"MODEL"],[113,65,1,68,1,"CLIP"],[114,68,0,69,0,"MODEL"],[115,68,1,69,1,"CLIP"],[116,69,0,70,0,"MODEL"],[119,73,0,72,0,"LATENT"],[123,74,1,73,2,"CONDITIONING"],[126,29,0,73,5,"COMBO"],[127,30,0,73,6,"COMBO"],[132,23,0,74,2,"STRING"],[133,192,0,74,3,"STRING"],[134,134,0,74,4,"STRING"],[135,203,0,74,5,"INT"],[138,23,0,75,2,"STRING"],[139,192,0,75,3,"STRING"],[140,134,0,75,4,"STRING"],[141,203,0,75,5,"INT"],[144,75,1,76,2,"CONDITIONING"],[147,29,0,76,5,"COMBO"],[148,30,0,76,6,"COMBO"],[151,76,0,77,0,"LATENT"],[153,16,0,78,0,"CONDITIONING"],[154,16,1,78,1,"CONDITIONING"],[155,79,0,78,2,"CONTROL_NET"],[156,92,0,78,3,"IMAGE"],[157,80,0,79,0,"TIMESTEP_KEYFRAME"],[159,78,0,81,0,"CONDITIONING"],[160,78,1,81,1,"CONDITIONING"],[161,82,0,81,2,"CONTROL_NET"],[162,93,0,81,3,"IMAGE"],[163,83,0,82,0,"TIMESTEP_KEYFRAME"],[165,92,0,84,0,"IMAGE"],[166,93,0,85,0,"IMAGE"],[168,249,0,87,0,"*"],[170,117,0,89,0,"INT"],[171,169,0,89,1,"INT"],[175,190,0,91,2,"STRING"],[176,23,0,91,3,"STRING"],[177,134,0,91,4,"STRING"],[178,148,0,91,5,"INT"],[179,252,0,92,0,"*"],[180,255,0,93,0,"*"],[182,109,0,95,0,"STRING"],[183,110,0,95,1,"STRING"],[184,111,0,95,2,"STRING"],[185,112,0,95,3,"STRING"],[186,113,0,95,4,"STRING"],[187,114,0,95,5,"STRING"],[188,123,0,95,6,"STRING"],[189,116,0,95,7,"INT"],[190,117,0,95,8,"INT"],[191,118,0,95,9,"INT"],[192,119,0,95,10,"INT"],[193,120,0,95,11,"INT"],[194,121,0,95,12,"INT"],[195,122,0,95,13,"INT"],[196,109,0,96,0,"STRING"],[197,110,0,96,1,"STRING"],[198,110,0,96,2,"STRING"],[199,111,0,96,3,"STRING"],[200,111,0,96,4,"STRING"],[201,112,0,96,5,"STRING"],[202,112,0,96,6,"STRING"],[203,116,0,96,7,"INT"],[204,90,0,96,8,"INT"],[205,89,0,96,9,"INT"],[206,125,0,96,10,"INT"],[207,124,0,96,11,"INT"],[208,127,0,96,12,"INT"],[209,126,0,96,13,"INT"],[218,113,0,115,0,"STRING"],[219,113,0,115,1,"STRING"],[220,114,0,115,2,"STRING"],[221,114,0,115,3,"STRING"],[222,123,0,115,4,"STRING"],[223,129,0,115,7,"INT"],[224,128,0,115,8,"INT"],[225,131,0,115,9,"INT"],[226,130,0,115,10,"INT"],[227,133,0,115,11,"INT"],[228,118,0,124,0,"INT"],[229,169,0,124,1,"INT"],[230,124,0,125,0,"INT"],[231,119,0,126,0,"INT"],[232,169,0,126,1,"INT"],[233,126,0,127,0,"INT"],[234,120,0,128,0,"INT"],[235,169,0,128,1,"INT"],[236,128,0,129,0,"INT"],[237,121,0,130,0,"INT"],[238,169,0,130,1,"INT"],[239,130,0,131,0,"INT"],[240,122,0,132,0,"INT"],[241,169,0,132,1,"INT"],[242,132,0,133,0,"INT"],[244,96,0,144,0,"STRING"],[245,115,0,144,1,"STRING"],[246,22,0,147,0,"INT"],[247,169,0,147,1,"INT"],[248,149,0,148,0,"*"],[249,150,0,148,1,"*"],[250,187,0,148,2,"*"],[251,151,0,149,0,"*"],[252,150,0,149,1,"*"],[253,22,0,150,0,"INT"],[257,156,0,155,0,"MODEL"],[258,156,1,155,1,"CLIP"],[259,67,0,156,0,"MODEL"],[260,67,1,156,1,"CLIP"],[278,88,0,180,0,"*"],[285,147,0,187,0,"INT"],[286,191,0,190,0,"*"],[287,197,0,190,1,"*"],[288,144,0,190,2,"*"],[289,194,0,191,0,"*"],[290,195,0,191,1,"*"],[291,193,0,192,0,"*"],[292,196,0,192,1,"*"],[293,95,0,192,2,"*"],[294,194,0,193,0,"*"],[295,195,0,193,1,"*"],[297,22,0,210,0,"INT"],[298,203,0,210,1,"INT"],[299,22,0,211,0,"INT"],[300,203,0,211,1,"INT"],[301,22,0,212,0,"INT"],[302,203,0,212,1,"INT"],[303,22,0,213,0,"INT"],[304,203,0,213,1,"INT"],[310,233,0,232,0,"IMAGE"],[311,261,0,232,1,"INT"],[312,262,0,232,2,"INT"],[313,234,0,233,0,"UPSCALE_MODEL"],[315,236,0,235,0,"IMAGE"],[316,261,0,235,1,"INT"],[317,262,0,235,2,"INT"],[318,237,0,236,0,"UPSCALE_MODEL"],[320,239,0,238,0,"IMAGE"],[321,261,0,238,1,"INT"],[322,262,0,238,2,"INT"],[323,240,0,239,0,"UPSCALE_MODEL"],[325,242,0,241,0,"IMAGE"],[326,261,0,241,1,"INT"],[327,262,0,241,2,"INT"],[328,243,0,242,0,"UPSCALE_MODEL"],[329,77,0,242,1,"IMAGE"],[333,19,0,245,1,"CONDITIONING"],[334,19,1,245,2,"CONDITIONING"],[337,256,0,245,5,"FLOAT"],[338,257,0,245,6,"COMBO"],[339,258,0,245,7,"COMBO"],[340,245,0,246,0,"LATENT"],[342,235,0,247,0,"IMAGE"],[345,20,0,248,1,"CONDITIONING"],[346,20,1,248,2,"CONDITIONING"],[347,247,0,248,3,"LATENT"],[349,256,0,248,5,"FLOAT"],[350,257,0,248,6,"COMBO"],[351,258,0,248,7,"COMBO"],[352,248,0,249,0,"LATENT"],[354,238,0,250,0,"IMAGE"],[357,74,0,251,1,"CONDITIONING"],[358,74,1,251,2,"CONDITIONING"],[359,250,0,251,3,"LATENT"],[361,256,0,251,5,"FLOAT"],[362,257,0,251,6,"COMBO"],[363,258,0,251,7,"COMBO"],[364,251,0,252,0,"LATENT"],[366,241,0,253,0,"IMAGE"],[369,75,0,254,1,"CONDITIONING"],[370,75,1,254,2,"CONDITIONING"],[371,253,0,254,3,"LATENT"],[373,256,0,254,5,"FLOAT"],[374,257,0,254,6,"COMBO"],[375,258,0,254,7,"COMBO"],[376,254,0,255,0,"LATENT"],[437,91,2,291,0,"LATENT"],[438,291,2,292,0,"LATENT"],[439,292,2,293,0,"LATENT"],[440,293,2,294,0,"LATENT"],[481,11,0,26,0,"*"],[494,89,0,90,0,"INT"],[516,192,0,19,3,"STRING"],[520,312,0,86,0,"*"],[521,81,0,316,0,"*"],[522,81,1,317,0,"*"],[523,316,0,36,1,"CONDITIONING"],[524,317,0,36,2,"CONDITIONING"],[525,316,0,37,1,"CONDITIONING"],[526,317,0,37,2,"CONDITIONING"],[527,232,0,318,0,"IMAGE"],[529,318,0,245,3,"LATENT"],[531,319,0,320,0,"*"],[532,320,0,321,0,"*"],[533,321,0,322,0,"*"],[536,322,0,20,0,"CLIP"],[537,321,0,19,0,"CLIP"],[538,322,0,324,0,"*"],[539,324,0,74,0,"CLIP"],[540,324,0,325,0,"*"],[542,325,0,75,0,"CLIP"],[543,312,0,327,0,"*"],[544,327,0,328,0,"*"],[545,328,0,12,0,"MODEL"],[547,328,0,330,0,"*"],[548,330,0,24,0,"MODEL"],[549,330,0,331,0,"*"],[550,331,0,73,0,"MODEL"],[551,331,0,332,0,"*"],[552,332,0,76,0,"MODEL"],[553,86,0,333,0,"*"],[554,333,0,334,0,"*"],[555,334,0,245,0,"MODEL"],[556,334,0,335,0,"*"],[557,335,0,248,0,"MODEL"],[558,335,0,336,0,"*"],[559,336,0,251,0,"MODEL"],[560,336,0,337,0,"*"],[561,337,0,254,0,"MODEL"],[563,338,0,234,0,"COMBO"],[564,338,0,243,0,"COMBO"],[565,338,0,240,0,"COMBO"],[566,338,0,237,0,"COMBO"],[573,319,0,341,0,"*"],[574,341,0,342,0,"*"],[575,342,0,343,0,"*"],[576,343,0,91,0,"CLIP"],[579,294,2,36,3,"LATENT"],[590,158,0,161,0,"IMAGE"],[591,157,0,162,0,"IMAGE"],[592,159,0,163,0,"IMAGE"],[593,160,0,164,0,"IMAGE"],[594,28,0,12,4,"INT"],[595,28,0,24,4,"INT"],[596,28,0,73,4,"INT"],[597,28,0,76,4,"INT"],[598,28,0,245,4,"INT"],[600,358,0,76,7,"INT"],[601,358,0,12,7,"INT"],[602,358,0,24,7,"INT"],[603,358,0,73,7,"INT"],[606,359,0,76,8,"FLOAT"],[607,359,0,73,8,"FLOAT"],[608,359,0,24,8,"FLOAT"],[609,359,0,12,8,"FLOAT"],[611,28,0,248,4,"INT"],[612,28,0,251,4,"INT"],[613,28,0,254,4,"INT"],[614,66,0,319,0,"*"],[617,155,0,312,0,"*"],[618,46,0,360,0,"*"],[619,360,0,94,0,"*"],[620,39,0,361,0,"*"],[621,361,0,362,0,"*"],[622,362,0,363,0,"*"],[623,363,0,364,0,"*"],[624,364,0,365,0,"*"],[625,365,0,55,0,"IMAGE"],[628,366,0,367,0,"*"],[629,367,0,42,0,"MODEL"],[630,26,0,368,0,"*"],[631,368,0,10,1,"VAE"],[632,368,0,369,0,"*"],[633,369,0,27,1,"VAE"],[634,369,0,370,0,"*"],[635,370,0,72,1,"VAE"],[636,370,0,371,0,"*"],[637,371,0,77,1,"VAE"],[638,26,0,372,0,"*"],[640,373,0,246,1,"VAE"],[641,373,0,374,0,"*"],[642,374,0,249,1,"VAE"],[643,374,0,375,0,"*"],[644,375,0,252,1,"VAE"],[645,375,0,376,0,"*"],[646,376,0,255,1,"VAE"],[648,377,0,378,0,"*"],[649,378,0,88,0,"*"],[650,45,0,379,0,"*"],[651,379,0,380,0,"*"],[652,380,0,381,0,"*"],[653,381,0,382,0,"*"],[656,383,0,384,0,"*"],[657,384,0,373,0,"*"],[658,384,0,377,0,"*"],[660,383,0,385,0,"*"],[661,385,0,318,1,"VAE"],[662,385,0,386,0,"*"],[663,386,0,247,1,"VAE"],[664,386,0,387,0,"*"],[665,387,0,250,1,"VAE"],[666,387,0,388,0,"*"],[667,388,0,253,1,"VAE"],[668,25,0,389,0,"*"],[669,389,0,108,0,"*"],[670,382,0,390,0,"*"],[671,390,0,391,0,"*"],[672,391,0,91,1,"LATENT"],[673,10,0,392,0,"*"],[674,392,0,233,1,"IMAGE"],[675,392,0,393,0,"*"],[676,393,0,394,0,"*"],[677,394,0,395,0,"*"],[678,395,0,396,0,"*"],[679,396,0,158,0,"*"],[680,27,0,397,0,"*"],[681,397,0,236,1,"IMAGE"],[682,397,0,398,0,"*"],[683,398,0,399,0,"*"],[684,399,0,400,0,"*"],[685,400,0,401,0,"*"],[686,401,0,157,0,"*"],[687,72,0,402,0,"*"],[688,402,0,403,0,"*"],[689,403,0,404,0,"*"],[690,404,0,405,0,"*"],[691,405,0,406,0,"*"],[692,406,0,159,0,"*"],[693,402,0,239,1,"IMAGE"],[694,77,0,407,0,"*"],[697,408,0,409,0,"*"],[698,409,0,410,0,"*"],[699,410,0,411,0,"*"],[700,411,0,160,0,"*"],[701,108,0,412,0,"*"],[702,412,0,12,3,"LATENT"],[703,412,0,413,0,"*"],[704,413,0,24,3,"LATENT"],[705,413,0,414,0,"*"],[706,414,0,73,3,"LATENT"],[707,414,0,415,0,"*"],[708,415,0,76,3,"LATENT"],[709,407,0,408,0,"*"],[765,86,0,445,0,"*"],[766,445,0,366,0,"*"],[851,19,1,12,2,"CONDITIONING"],[955,19,0,12,1,"CONDITIONING"],[956,20,0,24,1,"CONDITIONING"],[957,74,0,73,1,"CONDITIONING"],[958,75,0,76,1,"CONDITIONING"],[959,213,0,75,1,"INT"],[960,212,0,74,1,"INT"],[961,211,0,20,1,"INT"],[962,210,0,19,1,"INT"],[963,372,0,520,0,"*"],[964,520,0,383,0,"*"],[2290,1350,0,42,3,"MOTION_MODEL_SETTINGS"],[2291,291,0,1355,1,"FLOAT"],[2292,1355,0,15,2,"LATENT_KEYFRAME"],[2293,292,0,1356,1,"FLOAT"],[2294,1356,0,18,2,"LATENT_KEYFRAME"],[2295,1357,0,80,2,"LATENT_KEYFRAME"],[2296,293,0,1357,1,"FLOAT"],[2297,1358,0,83,2,"LATENT_KEYFRAME"],[2298,294,0,1358,1,"FLOAT"],[2299,40,0,1359,0,"IMAGE"],[2301,33,0,13,3,"IMAGE"],[2303,69,1,70,1,"CLIP"]],"groups":[{"title":"Group","bounding":[1584,221,1522,2511],"color":"#3f789e","font_size":24},{"title":"Group","bounding":[3486,222,1100,2753],"color":"#8AA","font_size":24},{"title":"Group","bounding":[-3019,910,2637,1851],"color":"#444","font_size":24},{"title":"Group","bounding":[-315,104,1795,895],"color":"#88A","font_size":24},{"title":"Group","bounding":[-152,1089,852,334],"color":"#3f789e","font_size":24},{"title":"Group","bounding":[-154,1455,854,321],"color":"#8AA","font_size":24},{"title":"Group","bounding":[-155,1812,1568,361],"color":"#A88","font_size":24},{"title":"Group","bounding":[-147,2254,1125,504],"color":"#b58b2a","font_size":24},{"title":"Group","bounding":[-145,2812,1172,519],"color":"#b58b2a","font_size":24},{"title":"Group","bounding":[8822,1231,1522,1085],"color":"#A88","font_size":24},{"title":"Group","bounding":[4847,581,3752,2356],"color":"#8A8","font_size":24}],"config":{},"extra":{},"version":0.4}